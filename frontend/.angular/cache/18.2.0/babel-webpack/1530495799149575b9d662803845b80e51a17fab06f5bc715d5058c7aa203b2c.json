{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/data.service\";\nimport * as i2 from \"../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nfunction ClientDashboardComponent_button_32_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.appointments.length);\n  }\n}\nfunction ClientDashboardComponent_button_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function ClientDashboardComponent_button_32_Template_button_click_0_listener() {\n      const tab_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.activeTab = tab_r2.id);\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 30);\n    i0.ɵɵelement(2, \"path\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ClientDashboardComponent_button_32_span_5_Template, 2, 1, \"span\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tab_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r2.activeTab === tab_r2.id ? \"bg-white shadow-lg text-indigo-600 px-4 py-3 rounded-xl font-semibold text-sm flex items-center space-x-2 transition-all duration-300 transform scale-105\" : \"text-gray-600 hover:text-indigo-600 hover:bg-white/50 px-4 py-3 rounded-xl font-medium text-sm flex items-center space-x-2 transition-all duration-300\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"d\", tab_r2.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tab_r2.name);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", tab_r2.id === \"mis-citas\");\n  }\n}\nfunction ClientDashboardComponent_div_34_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵlistener(\"click\", function ClientDashboardComponent_div_34_div_4_Template_div_click_0_listener() {\n      const service_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.selectService(service_r5));\n    });\n    i0.ɵɵelementStart(1, \"div\", 40);\n    i0.ɵɵelement(2, \"img\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\", 42);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 43);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 44)(8, \"span\", 45);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 46);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(11, \"svg\", 47);\n    i0.ɵɵelement(12, \"path\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(14, \"button\", 49);\n    i0.ɵɵtext(15, \" Agendar Cita \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const service_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", service_r5.image, i0.ɵɵsanitizeUrl)(\"alt\", service_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(service_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(service_r5.description);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"$\", service_r5.price, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", service_r5.duration, \" min \");\n  }\n}\nfunction ClientDashboardComponent_div_34_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 51);\n    i0.ɵɵelement(2, \"path\", 52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"p\", 53);\n    i0.ɵɵtext(4, \"No hay servicios disponibles\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ClientDashboardComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"h2\", 35);\n    i0.ɵɵtext(2, \"Nuestros Servicios\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 36);\n    i0.ɵɵtemplate(4, ClientDashboardComponent_div_34_div_4_Template, 16, 6, \"div\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ClientDashboardComponent_div_34_div_5_Template, 5, 0, \"div\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.services);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.services.length === 0);\n  }\n}\nfunction ClientDashboardComponent_div_35_div_4_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 71);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const specialty_r7 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", specialty_r7, \" \");\n  }\n}\nfunction ClientDashboardComponent_div_35_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 55)(1, \"div\", 56)(2, \"div\", 57);\n    i0.ɵɵelement(3, \"img\", 58)(4, \"div\", 59);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 60)(6, \"h3\", 61);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 62)(9, \"span\", 63);\n    i0.ɵɵtext(10, \"\\u2605\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 64);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"span\", 65);\n    i0.ɵɵtext(14, \" Disponible \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"p\", 43);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 66)(18, \"p\", 67);\n    i0.ɵɵtext(19, \"Especialidades:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 68);\n    i0.ɵɵtemplate(21, ClientDashboardComponent_div_35_div_4_span_21_Template, 2, 1, \"span\", 69);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"button\", 70);\n    i0.ɵɵlistener(\"click\", function ClientDashboardComponent_div_35_div_4_Template_button_click_22_listener() {\n      const barber_r8 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.selectBarber(barber_r8));\n    });\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const barber_r8 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", barber_r8.avatar, i0.ɵɵsanitizeUrl)(\"alt\", barber_r8.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(barber_r8.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", barber_r8.rating, \" / 5.0\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(barber_r8.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", barber_r8.specialties);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Agendar con \", barber_r8.name.split(\" \")[0], \" \");\n  }\n}\nfunction ClientDashboardComponent_div_35_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 51);\n    i0.ɵɵelement(2, \"path\", 72);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"p\", 53);\n    i0.ɵɵtext(4, \"No hay barberos disponibles\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ClientDashboardComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"h2\", 35);\n    i0.ɵɵtext(2, \"Nuestros Barberos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 36);\n    i0.ɵɵtemplate(4, ClientDashboardComponent_div_35_div_4_Template, 24, 7, \"div\", 54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ClientDashboardComponent_div_35_div_5_Template, 5, 0, \"div\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.barbers);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.barbers.length === 0);\n  }\n}\nfunction ClientDashboardComponent_div_36_tr_26_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 91);\n    i0.ɵɵlistener(\"click\", function ClientDashboardComponent_div_36_tr_26_button_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const appointment_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.cancelMyAppointment(appointment_r11.id));\n    });\n    i0.ɵɵtext(1, \" Cancelar \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientDashboardComponent_div_36_tr_26_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 92);\n    i0.ɵɵtext(1, \" - \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientDashboardComponent_div_36_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 83)(1, \"td\", 84);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 85);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 86);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 84);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 87)(10, \"span\", 88);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\", 87);\n    i0.ɵɵtemplate(13, ClientDashboardComponent_div_36_tr_26_button_13_Template, 2, 0, \"button\", 89)(14, ClientDashboardComponent_div_36_tr_26_span_14_Template, 2, 0, \"span\", 90);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const appointment_r11 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", appointment_r11.serviceName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", appointment_r11.barberName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", appointment_r11.date, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", appointment_r11.time, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r2.getStatusClass(appointment_r11.status));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.getStatusText(appointment_r11.status), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", appointment_r11.status === \"PENDING\" || appointment_r11.status === \"CONFIRMED\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", appointment_r11.status !== \"PENDING\" && appointment_r11.status !== \"CONFIRMED\");\n  }\n}\nfunction ClientDashboardComponent_div_36_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 93);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 94);\n    i0.ɵɵelement(3, \"path\", 95);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"p\", 53);\n    i0.ɵɵtext(5, \"No tienes citas agendadas\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 96);\n    i0.ɵɵlistener(\"click\", function ClientDashboardComponent_div_36_tr_27_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.openAppointmentModal());\n    });\n    i0.ɵɵtext(7, \" Agendar Primera Cita \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ClientDashboardComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"div\", 73)(2, \"h2\", 74);\n    i0.ɵɵtext(3, \"Mis Citas\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 75);\n    i0.ɵɵlistener(\"click\", function ClientDashboardComponent_div_36_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openAppointmentModal());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 30);\n    i0.ɵɵelement(6, \"path\", 76);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(7, \"span\");\n    i0.ɵɵtext(8, \"Nueva Cita\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 77)(10, \"table\", 78)(11, \"thead\")(12, \"tr\", 79)(13, \"th\", 80);\n    i0.ɵɵtext(14, \"Servicio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 80);\n    i0.ɵɵtext(16, \"Barbero\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\", 80);\n    i0.ɵɵtext(18, \"Fecha\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"th\", 80);\n    i0.ɵɵtext(20, \"Hora\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\", 80);\n    i0.ɵɵtext(22, \"Estado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"th\", 80);\n    i0.ɵɵtext(24, \"Acciones\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"tbody\");\n    i0.ɵɵtemplate(26, ClientDashboardComponent_div_36_tr_26_Template, 15, 9, \"tr\", 81)(27, ClientDashboardComponent_div_36_tr_27_Template, 8, 0, \"tr\", 82);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(26);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.appointments);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.appointments.length === 0);\n  }\n}\nfunction ClientDashboardComponent_div_37_option_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 116);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const service_r14 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", service_r14.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate3(\" \", service_r14.name, \" - $\", service_r14.price, \" (\", service_r14.duration, \" min) \");\n  }\n}\nfunction ClientDashboardComponent_div_37_option_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 116);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const barber_r15 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", barber_r15.userId);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", barber_r15.name, \" (\\u2605 \", barber_r15.rating, \") \");\n  }\n}\nfunction ClientDashboardComponent_div_37_option_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 116);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const slot_r16 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", slot_r16);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(slot_r16);\n  }\n}\nfunction ClientDashboardComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 97)(1, \"div\", 98)(2, \"div\", 99)(3, \"h2\", 100);\n    i0.ɵɵtext(4, \"Agendar Nueva Cita\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 101);\n    i0.ɵɵlistener(\"click\", function ClientDashboardComponent_div_37_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.closeAppointmentModal());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(6, \"svg\", 16);\n    i0.ɵɵelement(7, \"path\", 102);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(8, \"form\", 103);\n    i0.ɵɵlistener(\"ngSubmit\", function ClientDashboardComponent_div_37_Template_form_ngSubmit_8_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onSubmitAppointment());\n    });\n    i0.ɵɵelementStart(9, \"div\", 104)(10, \"div\")(11, \"label\", 105);\n    i0.ɵɵtext(12, \"Servicio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"select\", 106)(14, \"option\", 107);\n    i0.ɵɵtext(15, \"Selecciona un servicio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, ClientDashboardComponent_div_37_option_16_Template, 2, 4, \"option\", 108);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\")(18, \"label\", 105);\n    i0.ɵɵtext(19, \"Barbero\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"select\", 109)(21, \"option\", 107);\n    i0.ɵɵtext(22, \"Selecciona un barbero\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, ClientDashboardComponent_div_37_option_23_Template, 2, 3, \"option\", 108);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\")(25, \"label\", 105);\n    i0.ɵɵtext(26, \"Fecha\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"input\", 110);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\")(29, \"label\", 105);\n    i0.ɵɵtext(30, \"Hora\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"select\", 111)(32, \"option\", 107);\n    i0.ɵɵtext(33, \"Selecciona una hora\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(34, ClientDashboardComponent_div_37_option_34_Template, 2, 2, \"option\", 108);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\")(36, \"label\", 105);\n    i0.ɵɵtext(37, \"Notas adicionales (opcional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(38, \"textarea\", 112);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"div\", 113)(40, \"button\", 114);\n    i0.ɵɵlistener(\"click\", function ClientDashboardComponent_div_37_Template_button_click_40_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.closeAppointmentModal());\n    });\n    i0.ɵɵtext(41, \" Cancelar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"button\", 115);\n    i0.ɵɵtext(43, \" Confirmar Cita \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.appointmentForm);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.services);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.barbers);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"min\", ctx_r2.minDate);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.availableTimeSlots);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.appointmentForm.valid);\n  }\n}\nexport class ClientDashboardComponent {\n  constructor(dataService, authService, router, fb) {\n    this.dataService = dataService;\n    this.authService = authService;\n    this.router = router;\n    this.fb = fb;\n    this.currentUser = null;\n    this.services = [];\n    this.barbers = [];\n    this.appointments = [];\n    this.activeTab = 'servicios';\n    this.showAppointmentModal = false;\n    this.availableTimeSlots = [];\n    this.minDate = '';\n    // Availability tracking\n    this.isLoadingSlots = false;\n    this.slotsLoadError = '';\n    this.selectedBarberUnavailableMessage = '';\n    this.allSlotsTaken = false;\n    this.tabs = [{\n      id: 'servicios',\n      name: 'Servicios',\n      icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z'\n    }, {\n      id: 'barberos',\n      name: 'Barberos',\n      icon: 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'\n    }, {\n      id: 'mis-citas',\n      name: 'Mis Citas',\n      icon: 'M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z'\n    }];\n    this.appointmentForm = this.fb.group({\n      serviceId: ['', Validators.required],\n      barberId: ['', Validators.required],\n      date: ['', Validators.required],\n      time: ['', Validators.required],\n      notes: ['']\n    });\n  }\n  ngOnInit() {\n    this.currentUser = this.authService.getCurrentUser();\n    console.log('DEBUG - Current user in client dashboard:', this.currentUser);\n    console.log('DEBUG - LocalStorage currentUser:', localStorage.getItem('currentUser'));\n    console.log('DEBUG - LocalStorage token:', localStorage.getItem('token'));\n    this.loadData();\n    this.loadAppointments();\n    this.setMinDate();\n    this.setupFormValueListeners();\n  }\n  setupFormValueListeners() {\n    // Watch for barberId and date changes to load available slots dynamically\n    this.appointmentForm.get('barberId')?.valueChanges.subscribe(() => {\n      this.onBarberOrDateChange();\n    });\n    this.appointmentForm.get('date')?.valueChanges.subscribe(() => {\n      this.onBarberOrDateChange();\n    });\n  }\n  onBarberOrDateChange() {\n    const barberId = this.appointmentForm.get('barberId')?.value;\n    const date = this.appointmentForm.get('date')?.value;\n    // Clear previous selections and errors\n    this.appointmentForm.patchValue({\n      time: ''\n    }, {\n      emitEvent: false\n    });\n    this.slotsLoadError = '';\n    this.selectedBarberUnavailableMessage = '';\n    this.allSlotsTaken = false;\n    if (barberId && date) {\n      this.loadAvailableSlots(barberId, date);\n    } else {\n      this.availableTimeSlots = [];\n    }\n  }\n  loadAvailableSlots(barberId, date) {\n    this.isLoadingSlots = true;\n    this.availableTimeSlots = [];\n    this.dataService.getAvailableTimeSlots(barberId, date).subscribe({\n      next: slots => {\n        this.availableTimeSlots = slots;\n        this.isLoadingSlots = false;\n        if (slots.length === 0) {\n          this.allSlotsTaken = true;\n          this.slotsLoadError = 'No hay horarios disponibles para este barbero en la fecha seleccionada. Por favor, elige otra fecha.';\n        } else {\n          this.allSlotsTaken = false;\n        }\n      },\n      error: error => {\n        this.isLoadingSlots = false;\n        this.availableTimeSlots = [];\n        this.allSlotsTaken = true;\n        console.error('Error loading available slots:', error);\n        this.slotsLoadError = 'No se pudieron cargar los horarios disponibles. Por favor, intenta de nuevo.';\n      }\n    });\n  }\n  loadData() {\n    this.dataService.getServices().subscribe({\n      next: services => {\n        this.services = services.filter(s => s.isActive);\n      },\n      error: error => console.error('Error loading services:', error)\n    });\n    this.dataService.getBarbers().subscribe({\n      next: barbers => {\n        this.barbers = barbers.filter(b => b.isActive);\n      },\n      error: error => console.error('Error loading barbers:', error)\n    });\n  }\n  loadAppointments() {\n    this.dataService.getMyAppointments().subscribe({\n      next: appointments => {\n        this.appointments = appointments;\n        console.log('Citas cargadas:', appointments);\n      },\n      error: error => console.error('Error loading appointments:', error)\n    });\n  }\n  selectService(service) {\n    this.appointmentForm.patchValue({\n      serviceId: service.id\n    });\n    this.openAppointmentModal();\n  }\n  selectBarber(barber) {\n    this.appointmentForm.patchValue({\n      barberId: barber.userId\n    });\n    this.openAppointmentModal();\n  }\n  openAppointmentModal() {\n    this.showAppointmentModal = true;\n  }\n  closeAppointmentModal() {\n    this.showAppointmentModal = false;\n    this.appointmentForm.reset();\n  }\n  onSubmitAppointment() {\n    if (this.appointmentForm.valid) {\n      const appointmentData = {\n        serviceId: this.appointmentForm.value.serviceId,\n        barberId: this.appointmentForm.value.barberId,\n        date: this.appointmentForm.value.date,\n        time: this.appointmentForm.value.time,\n        notes: this.appointmentForm.value.notes || ''\n      };\n      console.log('DEBUG - Sending appointment data:', appointmentData);\n      console.log('DEBUG - serviceId type:', typeof appointmentData.serviceId);\n      console.log('DEBUG - barberId type:', typeof appointmentData.barberId);\n      console.log('DEBUG - date:', appointmentData.date);\n      console.log('DEBUG - time:', appointmentData.time);\n      this.dataService.createAppointment(appointmentData).subscribe({\n        next: appointment => {\n          alert('Cita agendada exitosamente!');\n          this.closeAppointmentModal();\n          this.loadAppointments();\n        },\n        error: error => {\n          console.error('Error creating appointment:', error);\n          alert('Error al agendar cita: ' + (error.error?.message || 'Error desconocido'));\n        }\n      });\n    }\n  }\n  cancelMyAppointment(appointmentId) {\n    if (confirm('¿Estás seguro de que quieres cancelar esta cita?')) {\n      this.dataService.cancelAppointment(appointmentId, 'Cancelada por el cliente').subscribe({\n        next: () => {\n          alert('Cita cancelada exitosamente!');\n          this.loadAppointments();\n        },\n        error: error => {\n          console.error('Error cancelling appointment:', error);\n          alert('Error al cancelar cita: ' + (error.error?.message || 'Error desconocido'));\n        }\n      });\n    }\n  }\n  getStatusClass(status) {\n    const statusClasses = {\n      'PENDING': 'bg-gradient-to-r from-yellow-500 to-orange-600 text-white',\n      'CONFIRMED': 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white',\n      'COMPLETED': 'bg-gradient-to-r from-green-500 to-emerald-600 text-white',\n      'CANCELLED': 'bg-gradient-to-r from-red-500 to-pink-600 text-white'\n    };\n    return statusClasses[status] || 'bg-gradient-to-r from-gray-400 to-gray-500 text-white';\n  }\n  getStatusText(status) {\n    const statusTexts = {\n      'PENDING': 'Pendiente',\n      'CONFIRMED': 'Confirmada',\n      'COMPLETED': 'Completada',\n      'CANCELLED': 'Cancelada'\n    };\n    return statusTexts[status] || status;\n  }\n  generateTimeSlots() {\n    this.availableTimeSlots = ['08:00', '08:30', '09:00', '09:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '14:00', '14:30', '15:00', '15:30', '16:00', '16:30', '17:00', '17:30'];\n  }\n  setMinDate() {\n    const today = new Date();\n    this.minDate = today.toISOString().split('T')[0];\n  }\n  getRoleLabel(role) {\n    if (!role) return '';\n    const labels = {\n      'ADMIN': 'Administrador',\n      'BARBER': 'Barbero',\n      'CLIENT': 'Cliente'\n    };\n    return labels[role] || role;\n  }\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n  static {\n    this.ɵfac = function ClientDashboardComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ClientDashboardComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ClientDashboardComponent,\n      selectors: [[\"app-client-dashboard\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 38,\n      vars: 9,\n      consts: [[1, \"min-h-screen\", \"bg-gradient-to-br\", \"from-slate-50\", \"via-blue-50\", \"to-indigo-50\"], [1, \"bg-white/70\", \"backdrop-blur-xl\", \"shadow-lg\", \"border-b\", \"border-white/20\", \"sticky\", \"top-0\", \"z-50\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\"], [1, \"flex\", \"justify-between\", \"h-16\"], [1, \"flex\", \"items-center\", \"space-x-3\"], [1, \"h-10\", \"w-10\", \"bg-gradient-to-br\", \"from-indigo-600\", \"to-purple-600\", \"rounded-xl\", \"flex\", \"items-center\", \"justify-center\", \"shadow-lg\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"h-6\", \"w-6\", \"text-white\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"], [1, \"text-2xl\", \"font-bold\", \"bg-gradient-to-r\", \"from-indigo-600\", \"via-purple-600\", \"to-pink-600\", \"bg-clip-text\", \"text-transparent\"], [1, \"flex\", \"items-center\", \"space-x-4\"], [1, \"text-right\"], [1, \"text-sm\", \"font-semibold\", \"text-gray-900\"], [1, \"text-xs\", \"font-medium\", \"bg-gradient-to-r\", \"from-indigo-600\", \"to-purple-600\", \"bg-clip-text\", \"text-transparent\"], [1, \"h-10\", \"w-10\", \"bg-gradient-to-br\", \"from-green-500\", \"to-emerald-600\", \"rounded-full\", \"flex\", \"items-center\", \"justify-center\", \"shadow-lg\", \"ring-2\", \"ring-white/50\"], [1, \"text-white\", \"font-bold\", \"text-sm\"], [\"title\", \"Cerrar sesi\\u00F3n\", 1, \"h-10\", \"w-10\", \"flex\", \"items-center\", \"justify-center\", \"rounded-xl\", \"bg-gradient-to-br\", \"from-red-100\", \"to-pink-100\", \"text-red-600\", \"hover:from-red-200\", \"hover:to-pink-200\", \"transition-all\", \"duration-200\", \"transform\", \"hover:scale-110\", \"shadow-md\", 3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"h-5\", \"w-5\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-4\", \"sm:px-6\", \"lg:px-8\", \"py-8\"], [1, \"mb-10\", \"bg-white/60\", \"backdrop-blur-sm\", \"rounded-2xl\", \"p-6\", \"shadow-lg\", \"border\", \"border-white/40\"], [1, \"text-4xl\", \"font-bold\", \"bg-gradient-to-r\", \"from-indigo-600\", \"via-purple-600\", \"to-pink-600\", \"bg-clip-text\", \"text-transparent\", \"mb-2\"], [1, \"text-gray-600\", \"font-medium\"], [1, \"bg-white/80\", \"backdrop-blur-sm\", \"rounded-2xl\", \"shadow-xl\", \"border\", \"border-white/40\", \"overflow-hidden\", \"mb-8\"], [1, \"bg-gradient-to-r\", \"from-indigo-50\", \"via-blue-50\", \"to-purple-50\", \"border-b\", \"border-indigo-100\"], [1, \"flex\", \"space-x-2\", \"p-2\"], [3, \"class\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"p-6\"], [\"class\", \"tab-content\", 4, \"ngIf\"], [\"class\", \"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\", 4, \"ngIf\"], [3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\"], [\"class\", \"bg-gradient-to-br from-blue-500 to-indigo-600 text-white text-xs px-2.5 py-1 rounded-full font-bold shadow-md\", 4, \"ngIf\"], [1, \"bg-gradient-to-br\", \"from-blue-500\", \"to-indigo-600\", \"text-white\", \"text-xs\", \"px-2.5\", \"py-1\", \"rounded-full\", \"font-bold\", \"shadow-md\"], [1, \"tab-content\"], [1, \"text-2xl\", \"font-bold\", \"bg-gradient-to-r\", \"from-indigo-600\", \"to-purple-600\", \"bg-clip-text\", \"text-transparent\", \"mb-6\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-3\", \"gap-6\"], [\"class\", \"group relative overflow-hidden bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg border border-white/40 p-6 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 cursor-pointer\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-center py-16 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl border-2 border-gray-200\", 4, \"ngIf\"], [1, \"group\", \"relative\", \"overflow-hidden\", \"bg-white/90\", \"backdrop-blur-sm\", \"rounded-2xl\", \"shadow-lg\", \"border\", \"border-white/40\", \"p-6\", \"transition-all\", \"duration-300\", \"hover:shadow-2xl\", \"hover:-translate-y-1\", \"cursor-pointer\", 3, \"click\"], [1, \"relative\", \"overflow-hidden\", \"rounded-xl\", \"mb-4\", \"bg-gradient-to-br\", \"from-blue-50\", \"to-indigo-50\", \"p-4\"], [1, \"w-full\", \"h-40\", \"object-contain\", \"group-hover:scale-110\", \"transition-transform\", \"duration-300\", 3, \"src\", \"alt\"], [1, \"text-xl\", \"font-bold\", \"text-gray-900\", \"mb-2\"], [1, \"text-gray-600\", \"text-sm\", \"mb-4\", \"line-clamp-2\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-4\"], [1, \"text-2xl\", \"font-bold\", \"bg-gradient-to-r\", \"from-blue-600\", \"to-indigo-600\", \"bg-clip-text\", \"text-transparent\"], [1, \"px-3\", \"py-1\", \"bg-gradient-to-r\", \"from-gray-100\", \"to-slate-100\", \"text-gray-700\", \"text-xs\", \"font-semibold\", \"rounded-full\", \"shadow-sm\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-3\", \"h-3\", \"inline-block\", \"mr-1\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"], [1, \"w-full\", \"px-4\", \"py-2.5\", \"bg-gradient-to-r\", \"from-indigo-600\", \"to-blue-600\", \"hover:from-indigo-700\", \"hover:to-blue-700\", \"text-white\", \"font-semibold\", \"rounded-xl\", \"transition-all\", \"duration-200\", \"shadow-md\", \"hover:shadow-xl\", \"transform\", \"hover:scale-105\"], [1, \"text-center\", \"py-16\", \"bg-gradient-to-br\", \"from-gray-50\", \"to-slate-50\", \"rounded-xl\", \"border-2\", \"border-gray-200\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"h-20\", \"w-20\", \"text-gray-400\", \"mx-auto\", \"mb-4\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"], [1, \"text-gray-500\", \"font-semibold\"], [\"class\", \"group relative overflow-hidden bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg border border-white/40 p-6 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"group\", \"relative\", \"overflow-hidden\", \"bg-white/90\", \"backdrop-blur-sm\", \"rounded-2xl\", \"shadow-lg\", \"border\", \"border-white/40\", \"p-6\", \"transition-all\", \"duration-300\", \"hover:shadow-2xl\", \"hover:-translate-y-1\"], [1, \"flex\", \"items-start\", \"mb-4\"], [1, \"relative\"], [1, \"w-20\", \"h-20\", \"rounded-full\", \"border-4\", \"border-white\", \"shadow-lg\", \"ring-2\", \"ring-indigo-100\", \"group-hover:ring-indigo-300\", \"transition-all\", \"duration-300\", 3, \"src\", \"alt\"], [1, \"absolute\", \"-bottom-1\", \"-right-1\", \"h-6\", \"w-6\", \"bg-green-500\", \"rounded-full\", \"border-3\", \"border-white\"], [1, \"ml-4\", \"flex-1\"], [1, \"text-xl\", \"font-bold\", \"text-gray-900\", \"mb-1\"], [1, \"flex\", \"items-center\", \"mb-2\"], [1, \"text-yellow-500\", \"text-lg\", \"mr-1\"], [1, \"text-sm\", \"font-semibold\", \"text-gray-700\"], [1, \"px-3\", \"py-1\", \"bg-gradient-to-r\", \"from-blue-500\", \"to-indigo-600\", \"text-white\", \"text-xs\", \"font-semibold\", \"rounded-full\", \"shadow-md\"], [1, \"mb-4\"], [1, \"text-xs\", \"font-semibold\", \"text-gray-700\", \"mb-2\"], [1, \"flex\", \"flex-wrap\", \"gap-2\"], [\"class\", \"px-3 py-1 bg-gradient-to-r from-indigo-100 to-blue-100 text-indigo-700 text-xs font-semibold rounded-full border border-indigo-200 shadow-sm\", 4, \"ngFor\", \"ngForOf\"], [1, \"w-full\", \"px-4\", \"py-2.5\", \"bg-gradient-to-r\", \"from-purple-600\", \"to-pink-600\", \"hover:from-purple-700\", \"hover:to-pink-700\", \"text-white\", \"font-semibold\", \"rounded-xl\", \"transition-all\", \"duration-200\", \"shadow-md\", \"hover:shadow-xl\", \"transform\", \"hover:scale-105\", 3, \"click\"], [1, \"px-3\", \"py-1\", \"bg-gradient-to-r\", \"from-indigo-100\", \"to-blue-100\", \"text-indigo-700\", \"text-xs\", \"font-semibold\", \"rounded-full\", \"border\", \"border-indigo-200\", \"shadow-sm\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-6\"], [1, \"text-2xl\", \"font-bold\", \"bg-gradient-to-r\", \"from-indigo-600\", \"to-purple-600\", \"bg-clip-text\", \"text-transparent\"], [1, \"px-6\", \"py-2.5\", \"bg-gradient-to-r\", \"from-green-600\", \"to-emerald-600\", \"hover:from-green-700\", \"hover:to-emerald-700\", \"text-white\", \"font-semibold\", \"rounded-xl\", \"transition-all\", \"duration-200\", \"shadow-md\", \"hover:shadow-xl\", \"transform\", \"hover:scale-105\", \"flex\", \"items-center\", \"space-x-2\", 3, \"click\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 6v6m0 0v6m0-6h6m-6 0H6\"], [1, \"overflow-x-auto\"], [1, \"w-full\", \"table-auto\"], [1, \"border-b-2\", \"border-indigo-100\"], [1, \"text-left\", \"py-4\", \"px-4\", \"font-semibold\", \"text-gray-700\"], [\"class\", \"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-200\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"border-b\", \"border-gray-100\", \"hover:bg-gradient-to-r\", \"hover:from-blue-50\", \"hover:to-indigo-50\", \"transition-all\", \"duration-200\"], [1, \"py-4\", \"px-4\", \"text-sm\", \"font-semibold\", \"text-gray-900\"], [1, \"py-4\", \"px-4\", \"text-sm\", \"font-medium\", \"text-gray-700\"], [1, \"py-4\", \"px-4\", \"text-sm\", \"text-gray-700\"], [1, \"py-4\", \"px-4\"], [1, \"px-3\", \"py-1\", \"text-xs\", \"font-bold\", \"rounded-full\", \"shadow-md\"], [\"class\", \"px-3 py-1.5 bg-gradient-to-r from-red-500 to-pink-600 text-white text-xs font-semibold rounded-lg hover:from-red-600 hover:to-pink-700 transition-all duration-200 shadow-md\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"text-gray-400 text-sm\", 4, \"ngIf\"], [1, \"px-3\", \"py-1.5\", \"bg-gradient-to-r\", \"from-red-500\", \"to-pink-600\", \"text-white\", \"text-xs\", \"font-semibold\", \"rounded-lg\", \"hover:from-red-600\", \"hover:to-pink-700\", \"transition-all\", \"duration-200\", \"shadow-md\", 3, \"click\"], [1, \"text-gray-400\", \"text-sm\"], [\"colspan\", \"6\", 1, \"px-6\", \"py-12\", \"text-center\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"h-16\", \"w-16\", \"text-gray-400\", \"mx-auto\", \"mb-4\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"], [1, \"mt-4\", \"px-6\", \"py-2.5\", \"bg-gradient-to-r\", \"from-indigo-600\", \"to-blue-600\", \"hover:from-indigo-700\", \"hover:to-blue-700\", \"text-white\", \"font-semibold\", \"rounded-xl\", \"transition-all\", \"duration-200\", \"shadow-md\", \"hover:shadow-xl\", 3, \"click\"], [1, \"fixed\", \"inset-0\", \"bg-black/60\", \"backdrop-blur-sm\", \"flex\", \"items-center\", \"justify-center\", \"z-50\", \"p-4\"], [1, \"bg-white/95\", \"backdrop-blur-xl\", \"rounded-2xl\", \"shadow-2xl\", \"border-2\", \"border-white/40\", \"p-8\", \"w-full\", \"max-w-2xl\", \"max-h-[90vh]\", \"overflow-y-auto\", \"transform\", \"transition-all\", \"duration-300\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-6\", \"pb-4\", \"border-b-2\", \"border-gradient-to-r\", \"from-indigo-100\", \"to-purple-100\"], [1, \"text-3xl\", \"font-bold\", \"bg-gradient-to-r\", \"from-indigo-600\", \"to-purple-600\", \"bg-clip-text\", \"text-transparent\"], [1, \"h-10\", \"w-10\", \"flex\", \"items-center\", \"justify-center\", \"rounded-xl\", \"bg-gradient-to-br\", \"from-red-100\", \"to-pink-100\", \"text-red-600\", \"hover:from-red-200\", \"hover:to-pink-200\", \"transition-all\", \"duration-200\", \"transform\", \"hover:scale-110\", \"shadow-md\", 3, \"click\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M6 18L18 6M6 6l12 12\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"space-y-5\"], [1, \"block\", \"text-sm\", \"font-semibold\", \"text-gray-700\", \"mb-2\"], [\"formControlName\", \"serviceId\", 1, \"w-full\", \"px-4\", \"py-3\", \"border-2\", \"border-indigo-200\", \"rounded-xl\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-indigo-500\", \"focus:border-transparent\", \"bg-white\", \"hover:border-indigo-300\", \"transition-all\", \"duration-200\", \"cursor-pointer\", \"shadow-sm\", \"font-medium\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"barberId\", 1, \"w-full\", \"px-4\", \"py-3\", \"border-2\", \"border-indigo-200\", \"rounded-xl\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-indigo-500\", \"focus:border-transparent\", \"bg-white\", \"hover:border-indigo-300\", \"transition-all\", \"duration-200\", \"cursor-pointer\", \"shadow-sm\", \"font-medium\"], [\"type\", \"date\", \"formControlName\", \"date\", 1, \"w-full\", \"px-4\", \"py-3\", \"border-2\", \"border-indigo-200\", \"rounded-xl\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-indigo-500\", \"focus:border-transparent\", \"bg-white\", \"hover:border-indigo-300\", \"transition-all\", \"duration-200\", \"shadow-sm\", \"font-medium\", 3, \"min\"], [\"formControlName\", \"time\", 1, \"w-full\", \"px-4\", \"py-3\", \"border-2\", \"border-indigo-200\", \"rounded-xl\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-indigo-500\", \"focus:border-transparent\", \"bg-white\", \"hover:border-indigo-300\", \"transition-all\", \"duration-200\", \"cursor-pointer\", \"shadow-sm\", \"font-medium\"], [\"formControlName\", \"notes\", \"rows\", \"3\", 1, \"w-full\", \"px-4\", \"py-3\", \"border-2\", \"border-indigo-200\", \"rounded-xl\", \"focus:outline-none\", \"focus:ring-2\", \"focus:ring-indigo-500\", \"focus:border-transparent\", \"bg-white\", \"hover:border-indigo-300\", \"transition-all\", \"duration-200\", \"shadow-sm\", \"font-medium\", \"resize-none\"], [1, \"flex\", \"justify-end\", \"space-x-3\", \"mt-8\", \"pt-6\", \"border-t\", \"border-gray-200\"], [\"type\", \"button\", 1, \"px-6\", \"py-2.5\", \"bg-gradient-to-r\", \"from-gray-100\", \"to-slate-100\", \"hover:from-gray-200\", \"hover:to-slate-200\", \"text-gray-700\", \"font-semibold\", \"rounded-xl\", \"transition-all\", \"duration-200\", \"shadow-md\", 3, \"click\"], [\"type\", \"submit\", 1, \"px-6\", \"py-2.5\", \"bg-gradient-to-r\", \"from-indigo-600\", \"to-blue-600\", \"hover:from-indigo-700\", \"hover:to-blue-700\", \"text-white\", \"font-semibold\", \"rounded-xl\", \"transition-all\", \"duration-200\", \"shadow-md\", \"hover:shadow-xl\", \"transform\", \"hover:scale-105\", \"disabled:opacity-50\", \"disabled:cursor-not-allowed\", \"disabled:transform-none\", 3, \"disabled\"], [3, \"value\"]],\n      template: function ClientDashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(6, \"svg\", 6);\n          i0.ɵɵelement(7, \"path\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(8, \"span\", 8);\n          i0.ɵɵtext(9, \"BarberShop\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 9)(11, \"div\", 4)(12, \"div\", 10)(13, \"p\", 11);\n          i0.ɵɵtext(14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"p\", 12);\n          i0.ɵɵtext(16);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"div\", 13)(18, \"span\", 14);\n          i0.ɵɵtext(19);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(20, \"button\", 15);\n          i0.ɵɵlistener(\"click\", function ClientDashboardComponent_Template_button_click_20_listener() {\n            return ctx.logout();\n          });\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(21, \"svg\", 16);\n          i0.ɵɵelement(22, \"path\", 17);\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(23, \"main\", 18)(24, \"div\", 19)(25, \"h1\", 20);\n          i0.ɵɵtext(26);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"p\", 21);\n          i0.ɵɵtext(28, \"Reserva tu pr\\u00F3xima cita con nosotros\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(29, \"div\", 22)(30, \"div\", 23)(31, \"nav\", 24);\n          i0.ɵɵtemplate(32, ClientDashboardComponent_button_32_Template, 6, 5, \"button\", 25);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(33, \"div\", 26);\n          i0.ɵɵtemplate(34, ClientDashboardComponent_div_34_Template, 6, 2, \"div\", 27)(35, ClientDashboardComponent_div_35_Template, 6, 2, \"div\", 27)(36, ClientDashboardComponent_div_36_Template, 28, 2, \"div\", 27);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(37, ClientDashboardComponent_div_37_Template, 44, 6, \"div\", 28);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          let tmp_2_0;\n          i0.ɵɵadvance(14);\n          i0.ɵɵtextInterpolate(ctx.currentUser == null ? null : ctx.currentUser.name);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.getRoleLabel(ctx.currentUser == null ? null : ctx.currentUser.role));\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", ctx.currentUser == null ? null : ctx.currentUser.name == null ? null : (tmp_2_0 = ctx.currentUser.name.charAt(0)) == null ? null : tmp_2_0.toUpperCase(), \" \");\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate1(\" \\u00A1Bienvenido, \", ctx.currentUser == null ? null : ctx.currentUser.name, \"! \");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngForOf\", ctx.tabs);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"servicios\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"barberos\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.activeTab === \"mis-citas\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showAppointmentModal);\n        }\n      },\n      dependencies: [CommonModule, i5.NgForOf, i5.NgIf, RouterModule, FormsModule, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, ReactiveFormsModule, i4.FormGroupDirective, i4.FormControlName],\n      styles: [\".tab-content[_ngcontent-%COMP%] {\\n      animation: _ngcontent-%COMP%_fadeIn 0.3s ease-in-out;\\n    }\\n\\n    @keyframes _ngcontent-%COMP%_fadeIn {\\n      from {\\n        opacity: 0;\\n        transform: translateY(10px);\\n      }\\n      to {\\n        opacity: 1;\\n        transform: translateY(0);\\n      }\\n    }\\n\\n    .line-clamp-2[_ngcontent-%COMP%] {\\n      display: -webkit-box;\\n      -webkit-line-clamp: 2;\\n      -webkit-box-orient: vertical;\\n      overflow: hidden;\\n    }\\n  \\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaWVudC1kYXNoYm9hcmQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7SUFDSTtNQUNFLGtDQUFrQztJQUNwQzs7SUFFQTtNQUNFO1FBQ0UsVUFBVTtRQUNWLDJCQUEyQjtNQUM3QjtNQUNBO1FBQ0UsVUFBVTtRQUNWLHdCQUF3QjtNQUMxQjtJQUNGOztJQUVBO01BQ0Usb0JBQW9CO01BQ3BCLHFCQUFxQjtNQUNyQiw0QkFBNEI7TUFDNUIsZ0JBQWdCO0lBQ2xCIiwiZmlsZSI6ImNsaWVudC1kYXNoYm9hcmQuY29tcG9uZW50LnRzIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgLnRhYi1jb250ZW50IHtcbiAgICAgIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1pbi1vdXQ7XG4gICAgfVxuXG4gICAgQGtleWZyYW1lcyBmYWRlSW4ge1xuICAgICAgZnJvbSB7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHB4KTtcbiAgICAgIH1cbiAgICAgIHRvIHtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5saW5lLWNsYW1wLTIge1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgICAtd2Via2l0LWxpbmUtY2xhbXA6IDI7XG4gICAgICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG4gICJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvY2xpZW50LWRhc2hib2FyZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtJQUNJO01BQ0Usa0NBQWtDO0lBQ3BDOztJQUVBO01BQ0U7UUFDRSxVQUFVO1FBQ1YsMkJBQTJCO01BQzdCO01BQ0E7UUFDRSxVQUFVO1FBQ1Ysd0JBQXdCO01BQzFCO0lBQ0Y7O0lBRUE7TUFDRSxvQkFBb0I7TUFDcEIscUJBQXFCO01BQ3JCLDRCQUE0QjtNQUM1QixnQkFBZ0I7SUFDbEI7O0FBRUosNC9CQUE0L0IiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAudGFiLWNvbnRlbnQge1xuICAgICAgYW5pbWF0aW9uOiBmYWRlSW4gMC4zcyBlYXNlLWluLW91dDtcbiAgICB9XG5cbiAgICBAa2V5ZnJhbWVzIGZhZGVJbiB7XG4gICAgICBmcm9tIHtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwcHgpO1xuICAgICAgfVxuICAgICAgdG8ge1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmxpbmUtY2xhbXAtMiB7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgIC13ZWJraXQtbGluZS1jbGFtcDogMjtcbiAgICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","RouterModule","FormsModule","ReactiveFormsModule","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r2","appointments","length","ɵɵlistener","ClientDashboardComponent_button_32_Template_button_click_0_listener","tab_r2","ɵɵrestoreView","_r1","$implicit","ɵɵnextContext","ɵɵresetView","activeTab","id","ɵɵelement","ɵɵtemplate","ClientDashboardComponent_button_32_span_5_Template","ɵɵclassMap","name","ɵɵproperty","ClientDashboardComponent_div_34_div_4_Template_div_click_0_listener","service_r5","_r4","selectService","image","ɵɵsanitizeUrl","description","ɵɵtextInterpolate1","price","duration","ClientDashboardComponent_div_34_div_4_Template","ClientDashboardComponent_div_34_div_5_Template","services","specialty_r7","ClientDashboardComponent_div_35_div_4_span_21_Template","ClientDashboardComponent_div_35_div_4_Template_button_click_22_listener","barber_r8","_r6","selectBarber","avatar","rating","specialties","split","ClientDashboardComponent_div_35_div_4_Template","ClientDashboardComponent_div_35_div_5_Template","barbers","ClientDashboardComponent_div_36_tr_26_button_13_Template_button_click_0_listener","_r10","appointment_r11","cancelMyAppointment","ClientDashboardComponent_div_36_tr_26_button_13_Template","ClientDashboardComponent_div_36_tr_26_span_14_Template","serviceName","barberName","date","time","getStatusClass","status","getStatusText","ClientDashboardComponent_div_36_tr_27_Template_button_click_6_listener","_r12","openAppointmentModal","ClientDashboardComponent_div_36_Template_button_click_4_listener","_r9","ClientDashboardComponent_div_36_tr_26_Template","ClientDashboardComponent_div_36_tr_27_Template","service_r14","ɵɵtextInterpolate3","barber_r15","userId","ɵɵtextInterpolate2","slot_r16","ClientDashboardComponent_div_37_Template_button_click_5_listener","_r13","closeAppointmentModal","ClientDashboardComponent_div_37_Template_form_ngSubmit_8_listener","onSubmitAppointment","ClientDashboardComponent_div_37_option_16_Template","ClientDashboardComponent_div_37_option_23_Template","ClientDashboardComponent_div_37_option_34_Template","ClientDashboardComponent_div_37_Template_button_click_40_listener","appointmentForm","minDate","availableTimeSlots","valid","ClientDashboardComponent","constructor","dataService","authService","router","fb","currentUser","showAppointmentModal","isLoadingSlots","slotsLoadError","selectedBarberUnavailableMessage","allSlotsTaken","tabs","icon","group","serviceId","required","barberId","notes","ngOnInit","getCurrentUser","console","log","localStorage","getItem","loadData","loadAppointments","setMinDate","setupFormValueListeners","get","valueChanges","subscribe","onBarberOrDateChange","value","patchValue","emitEvent","loadAvailableSlots","getAvailableTimeSlots","next","slots","error","getServices","filter","s","isActive","getBarbers","b","getMyAppointments","service","barber","reset","appointmentData","createAppointment","appointment","alert","message","appointmentId","confirm","cancelAppointment","statusClasses","statusTexts","generateTimeSlots","today","Date","toISOString","getRoleLabel","role","labels","logout","navigate","ɵɵdirectiveInject","i1","DataService","i2","AuthService","i3","Router","i4","FormBuilder","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ClientDashboardComponent_Template","rf","ctx","ClientDashboardComponent_Template_button_click_20_listener","ClientDashboardComponent_button_32_Template","ClientDashboardComponent_div_34_Template","ClientDashboardComponent_div_35_Template","ClientDashboardComponent_div_36_Template","ClientDashboardComponent_div_37_Template","tmp_2_0","charAt","toUpperCase","i5","NgForOf","NgIf","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles"],"sources":["C:\\Users\\danie\\OneDrive\\Desktop\\ues\\Citas_Barberia (2)\\Citas_Barberia\\frontend\\src\\app\\pages\\client-dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Router } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { DataService } from '../services/data.service';\nimport { AuthService } from '../services/auth.service';\nimport { Service, ServiceCategory } from '../models/service.model';\nimport { Barber } from '../models/barber.model';\nimport { User } from '../models/user.model';\n\n@Component({\n  selector: 'app-client-dashboard',\n  standalone: true,\n  imports: [CommonModule, RouterModule, FormsModule, ReactiveFormsModule],\n  template: `\n    <div class=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50\">\n      <!-- Navigation Header -->\n      <nav class=\"bg-white/70 backdrop-blur-xl shadow-lg border-b border-white/20 sticky top-0 z-50\">\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div class=\"flex justify-between h-16\">\n            <div class=\"flex items-center space-x-3\">\n              <div class=\"h-10 w-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg\">\n                <svg class=\"h-6 w-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                        d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"/>\n                </svg>\n              </div>\n              <span class=\"text-2xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent\">BarberShop</span>\n            </div>\n\n            <div class=\"flex items-center space-x-4\">\n              <!-- User Info -->\n              <div class=\"flex items-center space-x-3\">\n                <div class=\"text-right\">\n                  <p class=\"text-sm font-semibold text-gray-900\">{{ currentUser?.name }}</p>\n                  <p class=\"text-xs font-medium bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">{{ getRoleLabel(currentUser?.role) }}</p>\n                </div>\n                <div class=\"h-10 w-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center shadow-lg ring-2 ring-white/50\">\n                  <span class=\"text-white font-bold text-sm\">\n                    {{ currentUser?.name?.charAt(0)?.toUpperCase() }}\n                  </span>\n                </div>\n              </div>\n\n              <!-- Logout Button -->\n              <button\n                (click)=\"logout()\"\n                class=\"h-10 w-10 flex items-center justify-center rounded-xl bg-gradient-to-br from-red-100 to-pink-100 text-red-600 hover:from-red-200 hover:to-pink-200 transition-all duration-200 transform hover:scale-110 shadow-md\"\n                title=\"Cerrar sesión\"\n              >\n                <svg class=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                        d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"/>\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      <!-- Main Content -->\n      <main class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <!-- Welcome Section -->\n        <div class=\"mb-10 bg-white/60 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/40\">\n          <h1 class=\"text-4xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-2\">\n            ¡Bienvenido, {{ currentUser?.name }}!\n          </h1>\n          <p class=\"text-gray-600 font-medium\">Reserva tu próxima cita con nosotros</p>\n        </div>\n\n        <!-- Tabbed Section -->\n        <div class=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/40 overflow-hidden mb-8\">\n          <!-- Tab Navigation -->\n          <div class=\"bg-gradient-to-r from-indigo-50 via-blue-50 to-purple-50 border-b border-indigo-100\">\n            <nav class=\"flex space-x-2 p-2\">\n              <button *ngFor=\"let tab of tabs\"\n                      (click)=\"activeTab = tab.id\"\n                      [class]=\"activeTab === tab.id\n                        ? 'bg-white shadow-lg text-indigo-600 px-4 py-3 rounded-xl font-semibold text-sm flex items-center space-x-2 transition-all duration-300 transform scale-105'\n                        : 'text-gray-600 hover:text-indigo-600 hover:bg-white/50 px-4 py-3 rounded-xl font-medium text-sm flex items-center space-x-2 transition-all duration-300'\">\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" [attr.d]=\"tab.icon\"/>\n                </svg>\n                <span>{{ tab.name }}</span>\n                <span *ngIf=\"tab.id === 'mis-citas'\" class=\"bg-gradient-to-br from-blue-500 to-indigo-600 text-white text-xs px-2.5 py-1 rounded-full font-bold shadow-md\">{{ appointments.length }}</span>\n              </button>\n            </nav>\n          </div>\n\n          <!-- Tab Content -->\n          <div class=\"p-6\">\n\n            <!-- Servicios Tab -->\n            <div *ngIf=\"activeTab === 'servicios'\" class=\"tab-content\">\n              <h2 class=\"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-6\">Nuestros Servicios</h2>\n\n              <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                <div *ngFor=\"let service of services\"\n                     class=\"group relative overflow-hidden bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg border border-white/40 p-6 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 cursor-pointer\"\n                     (click)=\"selectService(service)\">\n                  <div class=\"relative overflow-hidden rounded-xl mb-4 bg-gradient-to-br from-blue-50 to-indigo-50 p-4\">\n                    <img [src]=\"service.image\" [alt]=\"service.name\" class=\"w-full h-40 object-contain group-hover:scale-110 transition-transform duration-300\">\n                  </div>\n                  <h3 class=\"text-xl font-bold text-gray-900 mb-2\">{{ service.name }}</h3>\n                  <p class=\"text-gray-600 text-sm mb-4 line-clamp-2\">{{ service.description }}</p>\n                  <div class=\"flex justify-between items-center mb-4\">\n                    <span class=\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent\">\\${{ service.price }}</span>\n                    <span class=\"px-3 py-1 bg-gradient-to-r from-gray-100 to-slate-100 text-gray-700 text-xs font-semibold rounded-full shadow-sm\">\n                      <svg class=\"w-3 h-3 inline-block mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"/>\n                      </svg>\n                      {{ service.duration }} min\n                    </span>\n                  </div>\n                  <button class=\"w-full px-4 py-2.5 bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 shadow-md hover:shadow-xl transform hover:scale-105\">\n                    Agendar Cita\n                  </button>\n                </div>\n              </div>\n\n              <div *ngIf=\"services.length === 0\" class=\"text-center py-16 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl border-2 border-gray-200\">\n                <svg class=\"h-20 w-20 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"/>\n                </svg>\n                <p class=\"text-gray-500 font-semibold\">No hay servicios disponibles</p>\n              </div>\n            </div>\n\n            <!-- Barberos Tab -->\n            <div *ngIf=\"activeTab === 'barberos'\" class=\"tab-content\">\n              <h2 class=\"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-6\">Nuestros Barberos</h2>\n\n              <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                <div *ngFor=\"let barber of barbers\"\n                     class=\"group relative overflow-hidden bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg border border-white/40 p-6 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1\">\n                  <div class=\"flex items-start mb-4\">\n                    <div class=\"relative\">\n                      <img [src]=\"barber.avatar\" [alt]=\"barber.name\" class=\"w-20 h-20 rounded-full border-4 border-white shadow-lg ring-2 ring-indigo-100 group-hover:ring-indigo-300 transition-all duration-300\">\n                      <div class=\"absolute -bottom-1 -right-1 h-6 w-6 bg-green-500 rounded-full border-3 border-white\"></div>\n                    </div>\n                    <div class=\"ml-4 flex-1\">\n                      <h3 class=\"text-xl font-bold text-gray-900 mb-1\">{{ barber.name }}</h3>\n                      <div class=\"flex items-center mb-2\">\n                        <span class=\"text-yellow-500 text-lg mr-1\">★</span>\n                        <span class=\"text-sm font-semibold text-gray-700\">{{ barber.rating }} / 5.0</span>\n                      </div>\n                      <span class=\"px-3 py-1 bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-xs font-semibold rounded-full shadow-md\">\n                        Disponible\n                      </span>\n                    </div>\n                  </div>\n\n                  <p class=\"text-gray-600 text-sm mb-4 line-clamp-2\">{{ barber.description }}</p>\n\n                  <div class=\"mb-4\">\n                    <p class=\"text-xs font-semibold text-gray-700 mb-2\">Especialidades:</p>\n                    <div class=\"flex flex-wrap gap-2\">\n                      <span *ngFor=\"let specialty of barber.specialties\"\n                            class=\"px-3 py-1 bg-gradient-to-r from-indigo-100 to-blue-100 text-indigo-700 text-xs font-semibold rounded-full border border-indigo-200 shadow-sm\">\n                        {{ specialty }}\n                      </span>\n                    </div>\n                  </div>\n\n                  <button (click)=\"selectBarber(barber)\"\n                          class=\"w-full px-4 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold rounded-xl transition-all duration-200 shadow-md hover:shadow-xl transform hover:scale-105\">\n                    Agendar con {{ barber.name.split(' ')[0] }}\n                  </button>\n                </div>\n              </div>\n\n              <div *ngIf=\"barbers.length === 0\" class=\"text-center py-16 bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl border-2 border-gray-200\">\n                <svg class=\"h-20 w-20 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"/>\n                </svg>\n                <p class=\"text-gray-500 font-semibold\">No hay barberos disponibles</p>\n              </div>\n            </div>\n\n            <!-- Mis Citas Tab -->\n            <div *ngIf=\"activeTab === 'mis-citas'\" class=\"tab-content\">\n              <div class=\"flex justify-between items-center mb-6\">\n                <h2 class=\"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">Mis Citas</h2>\n                <button (click)=\"openAppointmentModal()\"\n                        class=\"px-6 py-2.5 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold rounded-xl transition-all duration-200 shadow-md hover:shadow-xl transform hover:scale-105 flex items-center space-x-2\">\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"/>\n                  </svg>\n                  <span>Nueva Cita</span>\n                </button>\n              </div>\n\n              <div class=\"overflow-x-auto\">\n                <table class=\"w-full table-auto\">\n                  <thead>\n                    <tr class=\"border-b-2 border-indigo-100\">\n                      <th class=\"text-left py-4 px-4 font-semibold text-gray-700\">Servicio</th>\n                      <th class=\"text-left py-4 px-4 font-semibold text-gray-700\">Barbero</th>\n                      <th class=\"text-left py-4 px-4 font-semibold text-gray-700\">Fecha</th>\n                      <th class=\"text-left py-4 px-4 font-semibold text-gray-700\">Hora</th>\n                      <th class=\"text-left py-4 px-4 font-semibold text-gray-700\">Estado</th>\n                      <th class=\"text-left py-4 px-4 font-semibold text-gray-700\">Acciones</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr *ngFor=\"let appointment of appointments\" class=\"border-b border-gray-100 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-200\">\n                      <td class=\"py-4 px-4 text-sm font-semibold text-gray-900\">\n                        {{ appointment.serviceName }}\n                      </td>\n                      <td class=\"py-4 px-4 text-sm font-medium text-gray-700\">\n                        {{ appointment.barberName }}\n                      </td>\n                      <td class=\"py-4 px-4 text-sm text-gray-700\">\n                        {{ appointment.date }}\n                      </td>\n                      <td class=\"py-4 px-4 text-sm font-semibold text-gray-900\">\n                        {{ appointment.time }}\n                      </td>\n                      <td class=\"py-4 px-4\">\n                        <span [class]=\"getStatusClass(appointment.status)\"\n                              class=\"px-3 py-1 text-xs font-bold rounded-full shadow-md\">\n                          {{ getStatusText(appointment.status) }}\n                        </span>\n                      </td>\n                      <td class=\"py-4 px-4\">\n                        <button *ngIf=\"appointment.status === 'PENDING' || appointment.status === 'CONFIRMED'\"\n                                (click)=\"cancelMyAppointment(appointment.id)\"\n                                class=\"px-3 py-1.5 bg-gradient-to-r from-red-500 to-pink-600 text-white text-xs font-semibold rounded-lg hover:from-red-600 hover:to-pink-700 transition-all duration-200 shadow-md\">\n                          Cancelar\n                        </button>\n                        <span *ngIf=\"appointment.status !== 'PENDING' && appointment.status !== 'CONFIRMED'\"\n                              class=\"text-gray-400 text-sm\">\n                          -\n                        </span>\n                      </td>\n                    </tr>\n                    <tr *ngIf=\"appointments.length === 0\">\n                      <td colspan=\"6\" class=\"px-6 py-12 text-center\">\n                        <svg class=\"h-16 w-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"/>\n                        </svg>\n                        <p class=\"text-gray-500 font-semibold\">No tienes citas agendadas</p>\n                        <button (click)=\"openAppointmentModal()\"\n                                class=\"mt-4 px-6 py-2.5 bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 shadow-md hover:shadow-xl\">\n                          Agendar Primera Cita\n                        </button>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n\n      <!-- Modal para Agendar Cita -->\n      <div *ngIf=\"showAppointmentModal\" class=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n        <div class=\"bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border-2 border-white/40 p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto transform transition-all duration-300\">\n          <div class=\"flex justify-between items-center mb-6 pb-4 border-b-2 border-gradient-to-r from-indigo-100 to-purple-100\">\n            <h2 class=\"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">Agendar Nueva Cita</h2>\n            <button (click)=\"closeAppointmentModal()\"\n                    class=\"h-10 w-10 flex items-center justify-center rounded-xl bg-gradient-to-br from-red-100 to-pink-100 text-red-600 hover:from-red-200 hover:to-pink-200 transition-all duration-200 transform hover:scale-110 shadow-md\">\n              <svg class=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n              </svg>\n            </button>\n          </div>\n\n          <form [formGroup]=\"appointmentForm\" (ngSubmit)=\"onSubmitAppointment()\">\n            <div class=\"space-y-5\">\n              <!-- Servicio -->\n              <div>\n                <label class=\"block text-sm font-semibold text-gray-700 mb-2\">Servicio</label>\n                <select formControlName=\"serviceId\"\n                        class=\"w-full px-4 py-3 border-2 border-indigo-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white hover:border-indigo-300 transition-all duration-200 cursor-pointer shadow-sm font-medium\">\n                  <option value=\"\">Selecciona un servicio</option>\n                  <option *ngFor=\"let service of services\" [value]=\"service.id\">\n                    {{ service.name }} - \\${{ service.price }} ({{ service.duration }} min)\n                  </option>\n                </select>\n              </div>\n\n              <!-- Barbero -->\n              <div>\n                <label class=\"block text-sm font-semibold text-gray-700 mb-2\">Barbero</label>\n                <select formControlName=\"barberId\"\n                        class=\"w-full px-4 py-3 border-2 border-indigo-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white hover:border-indigo-300 transition-all duration-200 cursor-pointer shadow-sm font-medium\">\n                  <option value=\"\">Selecciona un barbero</option>\n                  <option *ngFor=\"let barber of barbers\" [value]=\"barber.userId\">\n                    {{ barber.name }} (★ {{ barber.rating }})\n                  </option>\n                </select>\n              </div>\n\n              <!-- Fecha -->\n              <div>\n                <label class=\"block text-sm font-semibold text-gray-700 mb-2\">Fecha</label>\n                <input type=\"date\" formControlName=\"date\" [min]=\"minDate\"\n                       class=\"w-full px-4 py-3 border-2 border-indigo-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white hover:border-indigo-300 transition-all duration-200 shadow-sm font-medium\">\n              </div>\n\n              <!-- Hora -->\n              <div>\n                <label class=\"block text-sm font-semibold text-gray-700 mb-2\">Hora</label>\n                <select formControlName=\"time\"\n                        class=\"w-full px-4 py-3 border-2 border-indigo-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white hover:border-indigo-300 transition-all duration-200 cursor-pointer shadow-sm font-medium\">\n                  <option value=\"\">Selecciona una hora</option>\n                  <option *ngFor=\"let slot of availableTimeSlots\" [value]=\"slot\">{{ slot }}</option>\n                </select>\n              </div>\n\n              <!-- Notas -->\n              <div>\n                <label class=\"block text-sm font-semibold text-gray-700 mb-2\">Notas adicionales (opcional)</label>\n                <textarea formControlName=\"notes\" rows=\"3\"\n                          class=\"w-full px-4 py-3 border-2 border-indigo-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white hover:border-indigo-300 transition-all duration-200 shadow-sm font-medium resize-none\"></textarea>\n              </div>\n            </div>\n\n            <div class=\"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200\">\n              <button type=\"button\" (click)=\"closeAppointmentModal()\"\n                      class=\"px-6 py-2.5 bg-gradient-to-r from-gray-100 to-slate-100 hover:from-gray-200 hover:to-slate-200 text-gray-700 font-semibold rounded-xl transition-all duration-200 shadow-md\">\n                Cancelar\n              </button>\n              <button type=\"submit\" [disabled]=\"!appointmentForm.valid\"\n                      class=\"px-6 py-2.5 bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 shadow-md hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\">\n                Confirmar Cita\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .tab-content {\n      animation: fadeIn 0.3s ease-in-out;\n    }\n\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n        transform: translateY(10px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    .line-clamp-2 {\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n    }\n  `]\n})\nexport class ClientDashboardComponent implements OnInit {\n  currentUser: User | null = null;\n  services: Service[] = [];\n  barbers: Barber[] = [];\n  appointments: any[] = [];\n  activeTab: string = 'servicios';\n  showAppointmentModal: boolean = false;\n  appointmentForm: FormGroup;\n  availableTimeSlots: string[] = [];\n  minDate: string = '';\n\n  // Availability tracking\n  isLoadingSlots: boolean = false;\n  slotsLoadError: string = '';\n  selectedBarberUnavailableMessage: string = '';\n  allSlotsTaken: boolean = false;\n\n  tabs = [\n    { id: 'servicios', name: 'Servicios', icon: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z' },\n    { id: 'barberos', name: 'Barberos', icon: 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z' },\n    { id: 'mis-citas', name: 'Mis Citas', icon: 'M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z' }\n  ];\n\n  constructor(\n    private dataService: DataService,\n    private authService: AuthService,\n    private router: Router,\n    private fb: FormBuilder\n  ) {\n    this.appointmentForm = this.fb.group({\n      serviceId: ['', Validators.required],\n      barberId: ['', Validators.required],\n      date: ['', Validators.required],\n      time: ['', Validators.required],\n      notes: ['']\n    });\n  }\n\n  ngOnInit(): void {\n    this.currentUser = this.authService.getCurrentUser();\n    console.log('DEBUG - Current user in client dashboard:', this.currentUser);\n    console.log('DEBUG - LocalStorage currentUser:', localStorage.getItem('currentUser'));\n    console.log('DEBUG - LocalStorage token:', localStorage.getItem('token'));\n    this.loadData();\n    this.loadAppointments();\n    this.setMinDate();\n    this.setupFormValueListeners();\n  }\n\n  setupFormValueListeners(): void {\n    // Watch for barberId and date changes to load available slots dynamically\n    this.appointmentForm.get('barberId')?.valueChanges.subscribe(() => {\n      this.onBarberOrDateChange();\n    });\n\n    this.appointmentForm.get('date')?.valueChanges.subscribe(() => {\n      this.onBarberOrDateChange();\n    });\n  }\n\n  onBarberOrDateChange(): void {\n    const barberId = this.appointmentForm.get('barberId')?.value;\n    const date = this.appointmentForm.get('date')?.value;\n\n    // Clear previous selections and errors\n    this.appointmentForm.patchValue({ time: '' }, { emitEvent: false });\n    this.slotsLoadError = '';\n    this.selectedBarberUnavailableMessage = '';\n    this.allSlotsTaken = false;\n\n    if (barberId && date) {\n      this.loadAvailableSlots(barberId, date);\n    } else {\n      this.availableTimeSlots = [];\n    }\n  }\n\n  loadAvailableSlots(barberId: any, date: string): void {\n    this.isLoadingSlots = true;\n    this.availableTimeSlots = [];\n\n    this.dataService.getAvailableTimeSlots(barberId, date).subscribe({\n      next: (slots) => {\n        this.availableTimeSlots = slots;\n        this.isLoadingSlots = false;\n\n        if (slots.length === 0) {\n          this.allSlotsTaken = true;\n          this.slotsLoadError = 'No hay horarios disponibles para este barbero en la fecha seleccionada. Por favor, elige otra fecha.';\n        } else {\n          this.allSlotsTaken = false;\n        }\n      },\n      error: (error) => {\n        this.isLoadingSlots = false;\n        this.availableTimeSlots = [];\n        this.allSlotsTaken = true;\n        console.error('Error loading available slots:', error);\n        this.slotsLoadError = 'No se pudieron cargar los horarios disponibles. Por favor, intenta de nuevo.';\n      }\n    });\n  }\n\n  loadData(): void {\n    this.dataService.getServices().subscribe({\n      next: (services) => {\n        this.services = services.filter(s => s.isActive);\n      },\n      error: (error) => console.error('Error loading services:', error)\n    });\n\n    this.dataService.getBarbers().subscribe({\n      next: (barbers) => {\n        this.barbers = barbers.filter(b => b.isActive);\n      },\n      error: (error) => console.error('Error loading barbers:', error)\n    });\n  }\n\n  loadAppointments(): void {\n    this.dataService.getMyAppointments().subscribe({\n      next: (appointments) => {\n        this.appointments = appointments;\n        console.log('Citas cargadas:', appointments);\n      },\n      error: (error) => console.error('Error loading appointments:', error)\n    });\n  }\n\n  selectService(service: Service): void {\n    this.appointmentForm.patchValue({ serviceId: service.id });\n    this.openAppointmentModal();\n  }\n\n  selectBarber(barber: Barber): void {\n    this.appointmentForm.patchValue({ barberId: barber.userId });\n    this.openAppointmentModal();\n  }\n\n  openAppointmentModal(): void {\n    this.showAppointmentModal = true;\n  }\n\n  closeAppointmentModal(): void {\n    this.showAppointmentModal = false;\n    this.appointmentForm.reset();\n  }\n\n  onSubmitAppointment(): void {\n    if (this.appointmentForm.valid) {\n      const appointmentData = {\n        serviceId: this.appointmentForm.value.serviceId,\n        barberId: this.appointmentForm.value.barberId,\n        date: this.appointmentForm.value.date,\n        time: this.appointmentForm.value.time,\n        notes: this.appointmentForm.value.notes || ''\n      };\n\n      console.log('DEBUG - Sending appointment data:', appointmentData);\n      console.log('DEBUG - serviceId type:', typeof appointmentData.serviceId);\n      console.log('DEBUG - barberId type:', typeof appointmentData.barberId);\n      console.log('DEBUG - date:', appointmentData.date);\n      console.log('DEBUG - time:', appointmentData.time);\n\n      this.dataService.createAppointment(appointmentData).subscribe({\n        next: (appointment) => {\n          alert('Cita agendada exitosamente!');\n          this.closeAppointmentModal();\n          this.loadAppointments();\n        },\n        error: (error) => {\n          console.error('Error creating appointment:', error);\n          alert('Error al agendar cita: ' + (error.error?.message || 'Error desconocido'));\n        }\n      });\n    }\n  }\n\n  cancelMyAppointment(appointmentId: number): void {\n    if (confirm('¿Estás seguro de que quieres cancelar esta cita?')) {\n      this.dataService.cancelAppointment(appointmentId, 'Cancelada por el cliente').subscribe({\n        next: () => {\n          alert('Cita cancelada exitosamente!');\n          this.loadAppointments();\n        },\n        error: (error) => {\n          console.error('Error cancelling appointment:', error);\n          alert('Error al cancelar cita: ' + (error.error?.message || 'Error desconocido'));\n        }\n      });\n    }\n  }\n\n  getStatusClass(status: string): string {\n    const statusClasses: any = {\n      'PENDING': 'bg-gradient-to-r from-yellow-500 to-orange-600 text-white',\n      'CONFIRMED': 'bg-gradient-to-r from-blue-500 to-indigo-600 text-white',\n      'COMPLETED': 'bg-gradient-to-r from-green-500 to-emerald-600 text-white',\n      'CANCELLED': 'bg-gradient-to-r from-red-500 to-pink-600 text-white'\n    };\n    return statusClasses[status] || 'bg-gradient-to-r from-gray-400 to-gray-500 text-white';\n  }\n\n  getStatusText(status: string): string {\n    const statusTexts: any = {\n      'PENDING': 'Pendiente',\n      'CONFIRMED': 'Confirmada',\n      'COMPLETED': 'Completada',\n      'CANCELLED': 'Cancelada'\n    };\n    return statusTexts[status] || status;\n  }\n\n  generateTimeSlots(): void {\n    this.availableTimeSlots = [\n      '08:00', '08:30', '09:00', '09:30', '10:00', '10:30',\n      '11:00', '11:30', '12:00', '12:30', '14:00', '14:30',\n      '15:00', '15:30', '16:00', '16:30', '17:00', '17:30'\n    ];\n  }\n\n  setMinDate(): void {\n    const today = new Date();\n    this.minDate = today.toISOString().split('T')[0];\n  }\n\n  getRoleLabel(role: any): string {\n    if (!role) return '';\n    const labels: any = {\n      'ADMIN': 'Administrador',\n      'BARBER': 'Barbero',\n      'CLIENT': 'Cliente'\n    };\n    return labels[role] || role;\n  }\n\n  logout(): void {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n}\n"],"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAgB,iBAAiB;AACtD,SAASC,WAAW,EAAEC,mBAAmB,EAA0BC,UAAU,QAAQ,gBAAgB;;;;;;;;;IAiFrFC,EAAA,CAAAC,cAAA,eAA2J;IAAAD,EAAA,CAAAE,MAAA,GAAyB;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;IAAhCH,EAAA,CAAAI,SAAA,EAAyB;IAAzBJ,EAAA,CAAAK,iBAAA,CAAAC,MAAA,CAAAC,YAAA,CAAAC,MAAA,CAAyB;;;;;;IATtLR,EAAA,CAAAC,cAAA,iBAIsK;IAH9JD,EAAA,CAAAS,UAAA,mBAAAC,oEAAA;MAAA,MAAAC,MAAA,GAAAX,EAAA,CAAAY,aAAA,CAAAC,GAAA,EAAAC,SAAA;MAAA,MAAAR,MAAA,GAAAN,EAAA,CAAAe,aAAA;MAAA,OAAAf,EAAA,CAAAgB,WAAA,CAAAV,MAAA,CAAAW,SAAA,GAAAN,MAAA,CAAAO,EAAA;IAAA,EAA4B;;IAIlClB,EAAA,CAAAC,cAAA,cAA2E;IACzED,EAAA,CAAAmB,SAAA,eAA2F;IAC7FnB,EAAA,CAAAG,YAAA,EAAM;;IACNH,EAAA,CAAAC,cAAA,WAAM;IAAAD,EAAA,CAAAE,MAAA,GAAc;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC3BH,EAAA,CAAAoB,UAAA,IAAAC,kDAAA,mBAA2J;IAC7JrB,EAAA,CAAAG,YAAA,EAAS;;;;;IARDH,EAAA,CAAAsB,UAAA,CAAAhB,MAAA,CAAAW,SAAA,KAAAN,MAAA,CAAAO,EAAA,0TAE6J;IAE3FlB,EAAA,CAAAI,SAAA,GAAmB;;IAErFJ,EAAA,CAAAI,SAAA,GAAc;IAAdJ,EAAA,CAAAK,iBAAA,CAAAM,MAAA,CAAAY,IAAA,CAAc;IACbvB,EAAA,CAAAI,SAAA,EAA4B;IAA5BJ,EAAA,CAAAwB,UAAA,SAAAb,MAAA,CAAAO,EAAA,iBAA4B;;;;;;IAanClB,EAAA,CAAAC,cAAA,cAEsC;IAAjCD,EAAA,CAAAS,UAAA,mBAAAgB,oEAAA;MAAA,MAAAC,UAAA,GAAA1B,EAAA,CAAAY,aAAA,CAAAe,GAAA,EAAAb,SAAA;MAAA,MAAAR,MAAA,GAAAN,EAAA,CAAAe,aAAA;MAAA,OAAAf,EAAA,CAAAgB,WAAA,CAASV,MAAA,CAAAsB,aAAA,CAAAF,UAAA,CAAsB;IAAA,EAAC;IACnC1B,EAAA,CAAAC,cAAA,cAAsG;IACpGD,EAAA,CAAAmB,SAAA,cAA2I;IAC7InB,EAAA,CAAAG,YAAA,EAAM;IACNH,EAAA,CAAAC,cAAA,aAAiD;IAAAD,EAAA,CAAAE,MAAA,GAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACxEH,EAAA,CAAAC,cAAA,YAAmD;IAAAD,EAAA,CAAAE,MAAA,GAAyB;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAE9EH,EADF,CAAAC,cAAA,cAAoD,eAC0D;IAAAD,EAAA,CAAAE,MAAA,GAAqB;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACxIH,EAAA,CAAAC,cAAA,gBAA+H;;IAC7HD,EAAA,CAAAC,cAAA,eAA6F;IAC3FD,EAAA,CAAAmB,SAAA,gBAAuH;IACzHnB,EAAA,CAAAG,YAAA,EAAM;IACNH,EAAA,CAAAE,MAAA,IACF;IACFF,EADE,CAAAG,YAAA,EAAO,EACH;;IACNH,EAAA,CAAAC,cAAA,kBAA4O;IAC1OD,EAAA,CAAAE,MAAA,sBACF;IACFF,EADE,CAAAG,YAAA,EAAS,EACL;;;;IAhBGH,EAAA,CAAAI,SAAA,GAAqB;IAACJ,EAAtB,CAAAwB,UAAA,QAAAE,UAAA,CAAAG,KAAA,EAAA7B,EAAA,CAAA8B,aAAA,CAAqB,QAAAJ,UAAA,CAAAH,IAAA,CAAqB;IAEAvB,EAAA,CAAAI,SAAA,GAAkB;IAAlBJ,EAAA,CAAAK,iBAAA,CAAAqB,UAAA,CAAAH,IAAA,CAAkB;IAChBvB,EAAA,CAAAI,SAAA,GAAyB;IAAzBJ,EAAA,CAAAK,iBAAA,CAAAqB,UAAA,CAAAK,WAAA,CAAyB;IAEkC/B,EAAA,CAAAI,SAAA,GAAqB;IAArBJ,EAAA,CAAAgC,kBAAA,MAAAN,UAAA,CAAAO,KAAA,KAAqB;IAK/HjC,EAAA,CAAAI,SAAA,GACF;IADEJ,EAAA,CAAAgC,kBAAA,MAAAN,UAAA,CAAAQ,QAAA,UACF;;;;;IAQNlC,EAAA,CAAAC,cAAA,cAA4I;;IAC1ID,EAAA,CAAAC,cAAA,cAAwG;IACtGD,EAAA,CAAAmB,SAAA,eAA+iB;IACjjBnB,EAAA,CAAAG,YAAA,EAAM;;IACNH,EAAA,CAAAC,cAAA,YAAuC;IAAAD,EAAA,CAAAE,MAAA,mCAA4B;IACrEF,EADqE,CAAAG,YAAA,EAAI,EACnE;;;;;IA/BNH,EADF,CAAAC,cAAA,cAA2D,aACwD;IAAAD,EAAA,CAAAE,MAAA,yBAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAExIH,EAAA,CAAAC,cAAA,cAAkE;IAChED,EAAA,CAAAoB,UAAA,IAAAe,8CAAA,mBAEsC;IAmBxCnC,EAAA,CAAAG,YAAA,EAAM;IAENH,EAAA,CAAAoB,UAAA,IAAAgB,8CAAA,kBAA4I;IAM9IpC,EAAA,CAAAG,YAAA,EAAM;;;;IA7BuBH,EAAA,CAAAI,SAAA,GAAW;IAAXJ,EAAA,CAAAwB,UAAA,YAAAlB,MAAA,CAAA+B,QAAA,CAAW;IAuBhCrC,EAAA,CAAAI,SAAA,EAA2B;IAA3BJ,EAAA,CAAAwB,UAAA,SAAAlB,MAAA,CAAA+B,QAAA,CAAA7B,MAAA,OAA2B;;;;;IAqCzBR,EAAA,CAAAC,cAAA,eAC2J;IACzJD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;IADLH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAgC,kBAAA,MAAAM,YAAA,MACF;;;;;;IAxBFtC,EAHJ,CAAAC,cAAA,cAC4L,cACvJ,cACX;IAEpBD,EADA,CAAAmB,SAAA,cAA6L,cACtF;IACzGnB,EAAA,CAAAG,YAAA,EAAM;IAEJH,EADF,CAAAC,cAAA,cAAyB,aAC0B;IAAAD,EAAA,CAAAE,MAAA,GAAiB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAErEH,EADF,CAAAC,cAAA,cAAoC,eACS;IAAAD,EAAA,CAAAE,MAAA,cAAC;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACnDH,EAAA,CAAAC,cAAA,gBAAkD;IAAAD,EAAA,CAAAE,MAAA,IAAyB;IAC7EF,EAD6E,CAAAG,YAAA,EAAO,EAC9E;IACNH,EAAA,CAAAC,cAAA,gBAA6H;IAC3HD,EAAA,CAAAE,MAAA,oBACF;IAEJF,EAFI,CAAAG,YAAA,EAAO,EACH,EACF;IAENH,EAAA,CAAAC,cAAA,aAAmD;IAAAD,EAAA,CAAAE,MAAA,IAAwB;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAG7EH,EADF,CAAAC,cAAA,eAAkB,aACoC;IAAAD,EAAA,CAAAE,MAAA,uBAAe;IAAAF,EAAA,CAAAG,YAAA,EAAI;IACvEH,EAAA,CAAAC,cAAA,eAAkC;IAChCD,EAAA,CAAAoB,UAAA,KAAAmB,sDAAA,mBAC2J;IAI/JvC,EADE,CAAAG,YAAA,EAAM,EACF;IAENH,EAAA,CAAAC,cAAA,kBAC4O;IADpOD,EAAA,CAAAS,UAAA,mBAAA+B,wEAAA;MAAA,MAAAC,SAAA,GAAAzC,EAAA,CAAAY,aAAA,CAAA8B,GAAA,EAAA5B,SAAA;MAAA,MAAAR,MAAA,GAAAN,EAAA,CAAAe,aAAA;MAAA,OAAAf,EAAA,CAAAgB,WAAA,CAASV,MAAA,CAAAqC,YAAA,CAAAF,SAAA,CAAoB;IAAA,EAAC;IAEpCzC,EAAA,CAAAE,MAAA,IACF;IACFF,EADE,CAAAG,YAAA,EAAS,EACL;;;;IA/BKH,EAAA,CAAAI,SAAA,GAAqB;IAACJ,EAAtB,CAAAwB,UAAA,QAAAiB,SAAA,CAAAG,MAAA,EAAA5C,EAAA,CAAA8B,aAAA,CAAqB,QAAAW,SAAA,CAAAlB,IAAA,CAAoB;IAIGvB,EAAA,CAAAI,SAAA,GAAiB;IAAjBJ,EAAA,CAAAK,iBAAA,CAAAoC,SAAA,CAAAlB,IAAA,CAAiB;IAGdvB,EAAA,CAAAI,SAAA,GAAyB;IAAzBJ,EAAA,CAAAgC,kBAAA,KAAAS,SAAA,CAAAI,MAAA,WAAyB;IAQ9B7C,EAAA,CAAAI,SAAA,GAAwB;IAAxBJ,EAAA,CAAAK,iBAAA,CAAAoC,SAAA,CAAAV,WAAA,CAAwB;IAK3C/B,EAAA,CAAAI,SAAA,GAAqB;IAArBJ,EAAA,CAAAwB,UAAA,YAAAiB,SAAA,CAAAK,WAAA,CAAqB;IASnD9C,EAAA,CAAAI,SAAA,GACF;IADEJ,EAAA,CAAAgC,kBAAA,kBAAAS,SAAA,CAAAlB,IAAA,CAAAwB,KAAA,cACF;;;;;IAIJ/C,EAAA,CAAAC,cAAA,cAA2I;;IACzID,EAAA,CAAAC,cAAA,cAAwG;IACtGD,EAAA,CAAAmB,SAAA,eAA+I;IACjJnB,EAAA,CAAAG,YAAA,EAAM;;IACNH,EAAA,CAAAC,cAAA,YAAuC;IAAAD,EAAA,CAAAE,MAAA,kCAA2B;IACpEF,EADoE,CAAAG,YAAA,EAAI,EAClE;;;;;IA9CNH,EADF,CAAAC,cAAA,cAA0D,aACyD;IAAAD,EAAA,CAAAE,MAAA,wBAAiB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAEvIH,EAAA,CAAAC,cAAA,cAAkE;IAChED,EAAA,CAAAoB,UAAA,IAAA4B,8CAAA,mBAC4L;IAmC9LhD,EAAA,CAAAG,YAAA,EAAM;IAENH,EAAA,CAAAoB,UAAA,IAAA6B,8CAAA,kBAA2I;IAM7IjD,EAAA,CAAAG,YAAA,EAAM;;;;IA5CsBH,EAAA,CAAAI,SAAA,GAAU;IAAVJ,EAAA,CAAAwB,UAAA,YAAAlB,MAAA,CAAA4C,OAAA,CAAU;IAsC9BlD,EAAA,CAAAI,SAAA,EAA0B;IAA1BJ,EAAA,CAAAwB,UAAA,SAAAlB,MAAA,CAAA4C,OAAA,CAAA1C,MAAA,OAA0B;;;;;;IAsDtBR,EAAA,CAAAC,cAAA,iBAE6L;IADrLD,EAAA,CAAAS,UAAA,mBAAA0C,iFAAA;MAAAnD,EAAA,CAAAY,aAAA,CAAAwC,IAAA;MAAA,MAAAC,eAAA,GAAArD,EAAA,CAAAe,aAAA,GAAAD,SAAA;MAAA,MAAAR,MAAA,GAAAN,EAAA,CAAAe,aAAA;MAAA,OAAAf,EAAA,CAAAgB,WAAA,CAASV,MAAA,CAAAgD,mBAAA,CAAAD,eAAA,CAAAnC,EAAA,CAAmC;IAAA,EAAC;IAEnDlB,EAAA,CAAAE,MAAA,iBACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;;IACTH,EAAA,CAAAC,cAAA,eACoC;IAClCD,EAAA,CAAAE,MAAA,UACF;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;IA3BTH,EADF,CAAAC,cAAA,aAAuK,aAC3G;IACxDD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACLH,EAAA,CAAAC,cAAA,aAAwD;IACtDD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACLH,EAAA,CAAAC,cAAA,aAA4C;IAC1CD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACLH,EAAA,CAAAC,cAAA,aAA0D;IACxDD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAEHH,EADF,CAAAC,cAAA,aAAsB,gBAE6C;IAC/DD,EAAA,CAAAE,MAAA,IACF;IACFF,EADE,CAAAG,YAAA,EAAO,EACJ;IACLH,EAAA,CAAAC,cAAA,cAAsB;IAMpBD,EALA,CAAAoB,UAAA,KAAAmC,wDAAA,qBAE6L,KAAAC,sDAAA,mBAIzJ;IAIxCxD,EADE,CAAAG,YAAA,EAAK,EACF;;;;;IA5BDH,EAAA,CAAAI,SAAA,GACF;IADEJ,EAAA,CAAAgC,kBAAA,MAAAqB,eAAA,CAAAI,WAAA,MACF;IAEEzD,EAAA,CAAAI,SAAA,GACF;IADEJ,EAAA,CAAAgC,kBAAA,MAAAqB,eAAA,CAAAK,UAAA,MACF;IAEE1D,EAAA,CAAAI,SAAA,GACF;IADEJ,EAAA,CAAAgC,kBAAA,MAAAqB,eAAA,CAAAM,IAAA,MACF;IAEE3D,EAAA,CAAAI,SAAA,GACF;IADEJ,EAAA,CAAAgC,kBAAA,MAAAqB,eAAA,CAAAO,IAAA,MACF;IAEQ5D,EAAA,CAAAI,SAAA,GAA4C;IAA5CJ,EAAA,CAAAsB,UAAA,CAAAhB,MAAA,CAAAuD,cAAA,CAAAR,eAAA,CAAAS,MAAA,EAA4C;IAEhD9D,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAgC,kBAAA,MAAA1B,MAAA,CAAAyD,aAAA,CAAAV,eAAA,CAAAS,MAAA,OACF;IAGS9D,EAAA,CAAAI,SAAA,GAA4E;IAA5EJ,EAAA,CAAAwB,UAAA,SAAA6B,eAAA,CAAAS,MAAA,kBAAAT,eAAA,CAAAS,MAAA,iBAA4E;IAK9E9D,EAAA,CAAAI,SAAA,EAA4E;IAA5EJ,EAAA,CAAAwB,UAAA,SAAA6B,eAAA,CAAAS,MAAA,kBAAAT,eAAA,CAAAS,MAAA,iBAA4E;;;;;;IAOrF9D,EADF,CAAAC,cAAA,SAAsC,aACW;;IAC7CD,EAAA,CAAAC,cAAA,cAAwG;IACtGD,EAAA,CAAAmB,SAAA,eAAkK;IACpKnB,EAAA,CAAAG,YAAA,EAAM;;IACNH,EAAA,CAAAC,cAAA,YAAuC;IAAAD,EAAA,CAAAE,MAAA,gCAAyB;IAAAF,EAAA,CAAAG,YAAA,EAAI;IACpEH,EAAA,CAAAC,cAAA,iBACgN;IADxMD,EAAA,CAAAS,UAAA,mBAAAuD,uEAAA;MAAAhE,EAAA,CAAAY,aAAA,CAAAqD,IAAA;MAAA,MAAA3D,MAAA,GAAAN,EAAA,CAAAe,aAAA;MAAA,OAAAf,EAAA,CAAAgB,WAAA,CAASV,MAAA,CAAA4D,oBAAA,EAAsB;IAAA,EAAC;IAEtClE,EAAA,CAAAE,MAAA,6BACF;IAEJF,EAFI,CAAAG,YAAA,EAAS,EACN,EACF;;;;;;IAjETH,EAFJ,CAAAC,cAAA,cAA2D,cACL,aAC0D;IAAAD,EAAA,CAAAE,MAAA,gBAAS;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC1HH,EAAA,CAAAC,cAAA,iBACqQ;IAD7PD,EAAA,CAAAS,UAAA,mBAAA0D,iEAAA;MAAAnE,EAAA,CAAAY,aAAA,CAAAwD,GAAA;MAAA,MAAA9D,MAAA,GAAAN,EAAA,CAAAe,aAAA;MAAA,OAAAf,EAAA,CAAAgB,WAAA,CAASV,MAAA,CAAA4D,oBAAA,EAAsB;IAAA,EAAC;;IAEtClE,EAAA,CAAAC,cAAA,cAA2E;IACzED,EAAA,CAAAmB,SAAA,eAAsG;IACxGnB,EAAA,CAAAG,YAAA,EAAM;;IACNH,EAAA,CAAAC,cAAA,WAAM;IAAAD,EAAA,CAAAE,MAAA,iBAAU;IAEpBF,EAFoB,CAAAG,YAAA,EAAO,EAChB,EACL;IAMEH,EAJR,CAAAC,cAAA,cAA6B,iBACM,aACxB,cACoC,cACqB;IAAAD,EAAA,CAAAE,MAAA,gBAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACzEH,EAAA,CAAAC,cAAA,cAA4D;IAAAD,EAAA,CAAAE,MAAA,eAAO;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACxEH,EAAA,CAAAC,cAAA,cAA4D;IAAAD,EAAA,CAAAE,MAAA,aAAK;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACtEH,EAAA,CAAAC,cAAA,cAA4D;IAAAD,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACrEH,EAAA,CAAAC,cAAA,cAA4D;IAAAD,EAAA,CAAAE,MAAA,cAAM;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACvEH,EAAA,CAAAC,cAAA,cAA4D;IAAAD,EAAA,CAAAE,MAAA,gBAAQ;IAExEF,EAFwE,CAAAG,YAAA,EAAK,EACtE,EACC;IACRH,EAAA,CAAAC,cAAA,aAAO;IAgCLD,EA/BA,CAAAoB,UAAA,KAAAiD,8CAAA,kBAAuK,KAAAC,8CAAA,iBA+BjI;IAe9CtE,EAHM,CAAAG,YAAA,EAAQ,EACF,EACJ,EACF;;;;IA9C8BH,EAAA,CAAAI,SAAA,IAAe;IAAfJ,EAAA,CAAAwB,UAAA,YAAAlB,MAAA,CAAAC,YAAA,CAAe;IA+BtCP,EAAA,CAAAI,SAAA,EAA+B;IAA/BJ,EAAA,CAAAwB,UAAA,SAAAlB,MAAA,CAAAC,YAAA,CAAAC,MAAA,OAA+B;;;;;IAyCtCR,EAAA,CAAAC,cAAA,kBAA8D;IAC5DD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAFgCH,EAAA,CAAAwB,UAAA,UAAA+C,WAAA,CAAArD,EAAA,CAAoB;IAC3DlB,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAwE,kBAAA,MAAAD,WAAA,CAAAhD,IAAA,UAAAgD,WAAA,CAAAtC,KAAA,QAAAsC,WAAA,CAAArC,QAAA,WACF;;;;;IAUAlC,EAAA,CAAAC,cAAA,kBAA+D;IAC7DD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAF8BH,EAAA,CAAAwB,UAAA,UAAAiD,UAAA,CAAAC,MAAA,CAAuB;IAC5D1E,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAA2E,kBAAA,MAAAF,UAAA,CAAAlD,IAAA,eAAAkD,UAAA,CAAA5B,MAAA,OACF;;;;;IAiBA7C,EAAA,CAAAC,cAAA,kBAA+D;IAAAD,EAAA,CAAAE,MAAA,GAAU;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAAlCH,EAAA,CAAAwB,UAAA,UAAAoD,QAAA,CAAc;IAAC5E,EAAA,CAAAI,SAAA,EAAU;IAAVJ,EAAA,CAAAK,iBAAA,CAAAuE,QAAA,CAAU;;;;;;IAhD/E5E,EAHN,CAAAC,cAAA,cAA+H,cACqD,cACzD,cACT;IAAAD,EAAA,CAAAE,MAAA,yBAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACnIH,EAAA,CAAAC,cAAA,kBACmO;IAD3ND,EAAA,CAAAS,UAAA,mBAAAoE,iEAAA;MAAA7E,EAAA,CAAAY,aAAA,CAAAkE,IAAA;MAAA,MAAAxE,MAAA,GAAAN,EAAA,CAAAe,aAAA;MAAA,OAAAf,EAAA,CAAAgB,WAAA,CAASV,MAAA,CAAAyE,qBAAA,EAAuB;IAAA,EAAC;;IAEvC/E,EAAA,CAAAC,cAAA,cAA2E;IACzED,EAAA,CAAAmB,SAAA,gBAAgG;IAGtGnB,EAFI,CAAAG,YAAA,EAAM,EACC,EACL;;IAENH,EAAA,CAAAC,cAAA,gBAAuE;IAAnCD,EAAA,CAAAS,UAAA,sBAAAuE,kEAAA;MAAAhF,EAAA,CAAAY,aAAA,CAAAkE,IAAA;MAAA,MAAAxE,MAAA,GAAAN,EAAA,CAAAe,aAAA;MAAA,OAAAf,EAAA,CAAAgB,WAAA,CAAYV,MAAA,CAAA2E,mBAAA,EAAqB;IAAA,EAAC;IAIhEjF,EAHJ,CAAAC,cAAA,eAAuB,WAEhB,kBAC2D;IAAAD,EAAA,CAAAE,MAAA,gBAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAG5EH,EAFF,CAAAC,cAAA,mBACwP,mBACrO;IAAAD,EAAA,CAAAE,MAAA,8BAAsB;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAChDH,EAAA,CAAAoB,UAAA,KAAA8D,kDAAA,sBAA8D;IAIlElF,EADE,CAAAG,YAAA,EAAS,EACL;IAIJH,EADF,CAAAC,cAAA,WAAK,kBAC2D;IAAAD,EAAA,CAAAE,MAAA,eAAO;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAG3EH,EAFF,CAAAC,cAAA,mBACwP,mBACrO;IAAAD,EAAA,CAAAE,MAAA,6BAAqB;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAC/CH,EAAA,CAAAoB,UAAA,KAAA+D,kDAAA,sBAA+D;IAInEnF,EADE,CAAAG,YAAA,EAAS,EACL;IAIJH,EADF,CAAAC,cAAA,WAAK,kBAC2D;IAAAD,EAAA,CAAAE,MAAA,aAAK;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAC3EH,EAAA,CAAAmB,SAAA,kBACwO;IAC1OnB,EAAA,CAAAG,YAAA,EAAM;IAIJH,EADF,CAAAC,cAAA,WAAK,kBAC2D;IAAAD,EAAA,CAAAE,MAAA,YAAI;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAGxEH,EAFF,CAAAC,cAAA,mBACwP,mBACrO;IAAAD,EAAA,CAAAE,MAAA,2BAAmB;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAC7CH,EAAA,CAAAoB,UAAA,KAAAgE,kDAAA,sBAA+D;IAEnEpF,EADE,CAAAG,YAAA,EAAS,EACL;IAIJH,EADF,CAAAC,cAAA,WAAK,kBAC2D;IAAAD,EAAA,CAAAE,MAAA,oCAA4B;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IAClGH,EAAA,CAAAmB,SAAA,qBACkQ;IAEtQnB,EADE,CAAAG,YAAA,EAAM,EACF;IAGJH,EADF,CAAAC,cAAA,gBAA2E,mBAEmH;IADtKD,EAAA,CAAAS,UAAA,mBAAA4E,kEAAA;MAAArF,EAAA,CAAAY,aAAA,CAAAkE,IAAA;MAAA,MAAAxE,MAAA,GAAAN,EAAA,CAAAe,aAAA;MAAA,OAAAf,EAAA,CAAAgB,WAAA,CAASV,MAAA,CAAAyE,qBAAA,EAAuB;IAAA,EAAC;IAErD/E,EAAA,CAAAE,MAAA,kBACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAAC,cAAA,mBAC6S;IAC3SD,EAAA,CAAAE,MAAA,wBACF;IAIRF,EAJQ,CAAAG,YAAA,EAAS,EACL,EACD,EACH,EACF;;;;IA/DIH,EAAA,CAAAI,SAAA,GAA6B;IAA7BJ,EAAA,CAAAwB,UAAA,cAAAlB,MAAA,CAAAgF,eAAA,CAA6B;IAQCtF,EAAA,CAAAI,SAAA,GAAW;IAAXJ,EAAA,CAAAwB,UAAA,YAAAlB,MAAA,CAAA+B,QAAA,CAAW;IAYZrC,EAAA,CAAAI,SAAA,GAAU;IAAVJ,EAAA,CAAAwB,UAAA,YAAAlB,MAAA,CAAA4C,OAAA,CAAU;IASGlD,EAAA,CAAAI,SAAA,GAAe;IAAfJ,EAAA,CAAAwB,UAAA,QAAAlB,MAAA,CAAAiF,OAAA,CAAe;IAU9BvF,EAAA,CAAAI,SAAA,GAAqB;IAArBJ,EAAA,CAAAwB,UAAA,YAAAlB,MAAA,CAAAkF,kBAAA,CAAqB;IAiB5BxF,EAAA,CAAAI,SAAA,GAAmC;IAAnCJ,EAAA,CAAAwB,UAAA,cAAAlB,MAAA,CAAAgF,eAAA,CAAAG,KAAA,CAAmC;;;AAkCvE,OAAM,MAAOC,wBAAwB;EAuBnCC,YACUC,WAAwB,EACxBC,WAAwB,EACxBC,MAAc,EACdC,EAAe;IAHf,KAAAH,WAAW,GAAXA,WAAW;IACX,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,EAAE,GAAFA,EAAE;IA1BZ,KAAAC,WAAW,GAAgB,IAAI;IAC/B,KAAA3D,QAAQ,GAAc,EAAE;IACxB,KAAAa,OAAO,GAAa,EAAE;IACtB,KAAA3C,YAAY,GAAU,EAAE;IACxB,KAAAU,SAAS,GAAW,WAAW;IAC/B,KAAAgF,oBAAoB,GAAY,KAAK;IAErC,KAAAT,kBAAkB,GAAa,EAAE;IACjC,KAAAD,OAAO,GAAW,EAAE;IAEpB;IACA,KAAAW,cAAc,GAAY,KAAK;IAC/B,KAAAC,cAAc,GAAW,EAAE;IAC3B,KAAAC,gCAAgC,GAAW,EAAE;IAC7C,KAAAC,aAAa,GAAY,KAAK;IAE9B,KAAAC,IAAI,GAAG,CACL;MAAEpF,EAAE,EAAE,WAAW;MAAEK,IAAI,EAAE,WAAW;MAAEgF,IAAI,EAAE;IAAqe,CAAE,EACnhB;MAAErF,EAAE,EAAE,UAAU;MAAEK,IAAI,EAAE,UAAU;MAAEgF,IAAI,EAAE;IAAqE,CAAE,EACjH;MAAErF,EAAE,EAAE,WAAW;MAAEK,IAAI,EAAE,WAAW;MAAEgF,IAAI,EAAE;IAAwF,CAAE,CACvI;IAQC,IAAI,CAACjB,eAAe,GAAG,IAAI,CAACS,EAAE,CAACS,KAAK,CAAC;MACnCC,SAAS,EAAE,CAAC,EAAE,EAAE1G,UAAU,CAAC2G,QAAQ,CAAC;MACpCC,QAAQ,EAAE,CAAC,EAAE,EAAE5G,UAAU,CAAC2G,QAAQ,CAAC;MACnC/C,IAAI,EAAE,CAAC,EAAE,EAAE5D,UAAU,CAAC2G,QAAQ,CAAC;MAC/B9C,IAAI,EAAE,CAAC,EAAE,EAAE7D,UAAU,CAAC2G,QAAQ,CAAC;MAC/BE,KAAK,EAAE,CAAC,EAAE;KACX,CAAC;EACJ;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACb,WAAW,GAAG,IAAI,CAACH,WAAW,CAACiB,cAAc,EAAE;IACpDC,OAAO,CAACC,GAAG,CAAC,2CAA2C,EAAE,IAAI,CAAChB,WAAW,CAAC;IAC1Ee,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;IACrFH,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;IACzE,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACC,gBAAgB,EAAE;IACvB,IAAI,CAACC,UAAU,EAAE;IACjB,IAAI,CAACC,uBAAuB,EAAE;EAChC;EAEAA,uBAAuBA,CAAA;IACrB;IACA,IAAI,CAAChC,eAAe,CAACiC,GAAG,CAAC,UAAU,CAAC,EAAEC,YAAY,CAACC,SAAS,CAAC,MAAK;MAChE,IAAI,CAACC,oBAAoB,EAAE;IAC7B,CAAC,CAAC;IAEF,IAAI,CAACpC,eAAe,CAACiC,GAAG,CAAC,MAAM,CAAC,EAAEC,YAAY,CAACC,SAAS,CAAC,MAAK;MAC5D,IAAI,CAACC,oBAAoB,EAAE;IAC7B,CAAC,CAAC;EACJ;EAEAA,oBAAoBA,CAAA;IAClB,MAAMf,QAAQ,GAAG,IAAI,CAACrB,eAAe,CAACiC,GAAG,CAAC,UAAU,CAAC,EAAEI,KAAK;IAC5D,MAAMhE,IAAI,GAAG,IAAI,CAAC2B,eAAe,CAACiC,GAAG,CAAC,MAAM,CAAC,EAAEI,KAAK;IAEpD;IACA,IAAI,CAACrC,eAAe,CAACsC,UAAU,CAAC;MAAEhE,IAAI,EAAE;IAAE,CAAE,EAAE;MAAEiE,SAAS,EAAE;IAAK,CAAE,CAAC;IACnE,IAAI,CAAC1B,cAAc,GAAG,EAAE;IACxB,IAAI,CAACC,gCAAgC,GAAG,EAAE;IAC1C,IAAI,CAACC,aAAa,GAAG,KAAK;IAE1B,IAAIM,QAAQ,IAAIhD,IAAI,EAAE;MACpB,IAAI,CAACmE,kBAAkB,CAACnB,QAAQ,EAAEhD,IAAI,CAAC;IACzC,CAAC,MAAM;MACL,IAAI,CAAC6B,kBAAkB,GAAG,EAAE;IAC9B;EACF;EAEAsC,kBAAkBA,CAACnB,QAAa,EAAEhD,IAAY;IAC5C,IAAI,CAACuC,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACV,kBAAkB,GAAG,EAAE;IAE5B,IAAI,CAACI,WAAW,CAACmC,qBAAqB,CAACpB,QAAQ,EAAEhD,IAAI,CAAC,CAAC8D,SAAS,CAAC;MAC/DO,IAAI,EAAGC,KAAK,IAAI;QACd,IAAI,CAACzC,kBAAkB,GAAGyC,KAAK;QAC/B,IAAI,CAAC/B,cAAc,GAAG,KAAK;QAE3B,IAAI+B,KAAK,CAACzH,MAAM,KAAK,CAAC,EAAE;UACtB,IAAI,CAAC6F,aAAa,GAAG,IAAI;UACzB,IAAI,CAACF,cAAc,GAAG,sGAAsG;QAC9H,CAAC,MAAM;UACL,IAAI,CAACE,aAAa,GAAG,KAAK;QAC5B;MACF,CAAC;MACD6B,KAAK,EAAGA,KAAK,IAAI;QACf,IAAI,CAAChC,cAAc,GAAG,KAAK;QAC3B,IAAI,CAACV,kBAAkB,GAAG,EAAE;QAC5B,IAAI,CAACa,aAAa,GAAG,IAAI;QACzBU,OAAO,CAACmB,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;QACtD,IAAI,CAAC/B,cAAc,GAAG,8EAA8E;MACtG;KACD,CAAC;EACJ;EAEAgB,QAAQA,CAAA;IACN,IAAI,CAACvB,WAAW,CAACuC,WAAW,EAAE,CAACV,SAAS,CAAC;MACvCO,IAAI,EAAG3F,QAAQ,IAAI;QACjB,IAAI,CAACA,QAAQ,GAAGA,QAAQ,CAAC+F,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAAC;MAClD,CAAC;MACDJ,KAAK,EAAGA,KAAK,IAAKnB,OAAO,CAACmB,KAAK,CAAC,yBAAyB,EAAEA,KAAK;KACjE,CAAC;IAEF,IAAI,CAACtC,WAAW,CAAC2C,UAAU,EAAE,CAACd,SAAS,CAAC;MACtCO,IAAI,EAAG9E,OAAO,IAAI;QAChB,IAAI,CAACA,OAAO,GAAGA,OAAO,CAACkF,MAAM,CAACI,CAAC,IAAIA,CAAC,CAACF,QAAQ,CAAC;MAChD,CAAC;MACDJ,KAAK,EAAGA,KAAK,IAAKnB,OAAO,CAACmB,KAAK,CAAC,wBAAwB,EAAEA,KAAK;KAChE,CAAC;EACJ;EAEAd,gBAAgBA,CAAA;IACd,IAAI,CAACxB,WAAW,CAAC6C,iBAAiB,EAAE,CAAChB,SAAS,CAAC;MAC7CO,IAAI,EAAGzH,YAAY,IAAI;QACrB,IAAI,CAACA,YAAY,GAAGA,YAAY;QAChCwG,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEzG,YAAY,CAAC;MAC9C,CAAC;MACD2H,KAAK,EAAGA,KAAK,IAAKnB,OAAO,CAACmB,KAAK,CAAC,6BAA6B,EAAEA,KAAK;KACrE,CAAC;EACJ;EAEAtG,aAAaA,CAAC8G,OAAgB;IAC5B,IAAI,CAACpD,eAAe,CAACsC,UAAU,CAAC;MAAEnB,SAAS,EAAEiC,OAAO,CAACxH;IAAE,CAAE,CAAC;IAC1D,IAAI,CAACgD,oBAAoB,EAAE;EAC7B;EAEAvB,YAAYA,CAACgG,MAAc;IACzB,IAAI,CAACrD,eAAe,CAACsC,UAAU,CAAC;MAAEjB,QAAQ,EAAEgC,MAAM,CAACjE;IAAM,CAAE,CAAC;IAC5D,IAAI,CAACR,oBAAoB,EAAE;EAC7B;EAEAA,oBAAoBA,CAAA;IAClB,IAAI,CAAC+B,oBAAoB,GAAG,IAAI;EAClC;EAEAlB,qBAAqBA,CAAA;IACnB,IAAI,CAACkB,oBAAoB,GAAG,KAAK;IACjC,IAAI,CAACX,eAAe,CAACsD,KAAK,EAAE;EAC9B;EAEA3D,mBAAmBA,CAAA;IACjB,IAAI,IAAI,CAACK,eAAe,CAACG,KAAK,EAAE;MAC9B,MAAMoD,eAAe,GAAG;QACtBpC,SAAS,EAAE,IAAI,CAACnB,eAAe,CAACqC,KAAK,CAAClB,SAAS;QAC/CE,QAAQ,EAAE,IAAI,CAACrB,eAAe,CAACqC,KAAK,CAAChB,QAAQ;QAC7ChD,IAAI,EAAE,IAAI,CAAC2B,eAAe,CAACqC,KAAK,CAAChE,IAAI;QACrCC,IAAI,EAAE,IAAI,CAAC0B,eAAe,CAACqC,KAAK,CAAC/D,IAAI;QACrCgD,KAAK,EAAE,IAAI,CAACtB,eAAe,CAACqC,KAAK,CAACf,KAAK,IAAI;OAC5C;MAEDG,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAE6B,eAAe,CAAC;MACjE9B,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAE,OAAO6B,eAAe,CAACpC,SAAS,CAAC;MACxEM,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE,OAAO6B,eAAe,CAAClC,QAAQ,CAAC;MACtEI,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE6B,eAAe,CAAClF,IAAI,CAAC;MAClDoD,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE6B,eAAe,CAACjF,IAAI,CAAC;MAElD,IAAI,CAACgC,WAAW,CAACkD,iBAAiB,CAACD,eAAe,CAAC,CAACpB,SAAS,CAAC;QAC5DO,IAAI,EAAGe,WAAW,IAAI;UACpBC,KAAK,CAAC,6BAA6B,CAAC;UACpC,IAAI,CAACjE,qBAAqB,EAAE;UAC5B,IAAI,CAACqC,gBAAgB,EAAE;QACzB,CAAC;QACDc,KAAK,EAAGA,KAAK,IAAI;UACfnB,OAAO,CAACmB,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;UACnDc,KAAK,CAAC,yBAAyB,IAAId,KAAK,CAACA,KAAK,EAAEe,OAAO,IAAI,mBAAmB,CAAC,CAAC;QAClF;OACD,CAAC;IACJ;EACF;EAEA3F,mBAAmBA,CAAC4F,aAAqB;IACvC,IAAIC,OAAO,CAAC,kDAAkD,CAAC,EAAE;MAC/D,IAAI,CAACvD,WAAW,CAACwD,iBAAiB,CAACF,aAAa,EAAE,0BAA0B,CAAC,CAACzB,SAAS,CAAC;QACtFO,IAAI,EAAEA,CAAA,KAAK;UACTgB,KAAK,CAAC,8BAA8B,CAAC;UACrC,IAAI,CAAC5B,gBAAgB,EAAE;QACzB,CAAC;QACDc,KAAK,EAAGA,KAAK,IAAI;UACfnB,OAAO,CAACmB,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;UACrDc,KAAK,CAAC,0BAA0B,IAAId,KAAK,CAACA,KAAK,EAAEe,OAAO,IAAI,mBAAmB,CAAC,CAAC;QACnF;OACD,CAAC;IACJ;EACF;EAEApF,cAAcA,CAACC,MAAc;IAC3B,MAAMuF,aAAa,GAAQ;MACzB,SAAS,EAAE,2DAA2D;MACtE,WAAW,EAAE,yDAAyD;MACtE,WAAW,EAAE,2DAA2D;MACxE,WAAW,EAAE;KACd;IACD,OAAOA,aAAa,CAACvF,MAAM,CAAC,IAAI,uDAAuD;EACzF;EAEAC,aAAaA,CAACD,MAAc;IAC1B,MAAMwF,WAAW,GAAQ;MACvB,SAAS,EAAE,WAAW;MACtB,WAAW,EAAE,YAAY;MACzB,WAAW,EAAE,YAAY;MACzB,WAAW,EAAE;KACd;IACD,OAAOA,WAAW,CAACxF,MAAM,CAAC,IAAIA,MAAM;EACtC;EAEAyF,iBAAiBA,CAAA;IACf,IAAI,CAAC/D,kBAAkB,GAAG,CACxB,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EACpD,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EACpD,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CACrD;EACH;EAEA6B,UAAUA,CAAA;IACR,MAAMmC,KAAK,GAAG,IAAIC,IAAI,EAAE;IACxB,IAAI,CAAClE,OAAO,GAAGiE,KAAK,CAACE,WAAW,EAAE,CAAC3G,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAClD;EAEA4G,YAAYA,CAACC,IAAS;IACpB,IAAI,CAACA,IAAI,EAAE,OAAO,EAAE;IACpB,MAAMC,MAAM,GAAQ;MAClB,OAAO,EAAE,eAAe;MACxB,QAAQ,EAAE,SAAS;MACnB,QAAQ,EAAE;KACX;IACD,OAAOA,MAAM,CAACD,IAAI,CAAC,IAAIA,IAAI;EAC7B;EAEAE,MAAMA,CAAA;IACJ,IAAI,CAACjE,WAAW,CAACiE,MAAM,EAAE;IACzB,IAAI,CAAChE,MAAM,CAACiE,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;;;uCA/OWrE,wBAAwB,EAAA1F,EAAA,CAAAgK,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAlK,EAAA,CAAAgK,iBAAA,CAAAG,EAAA,CAAAC,WAAA,GAAApK,EAAA,CAAAgK,iBAAA,CAAAK,EAAA,CAAAC,MAAA,GAAAtK,EAAA,CAAAgK,iBAAA,CAAAO,EAAA,CAAAC,WAAA;IAAA;EAAA;;;YAAxB9E,wBAAwB;MAAA+E,SAAA;MAAAC,UAAA;MAAAC,QAAA,GAAA3K,EAAA,CAAA4K,mBAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,kCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UAlVvBlL,EANV,CAAAC,cAAA,aAAmF,aAEc,aACzC,aACX,aACI,aACsF;;UAC3HD,EAAA,CAAAC,cAAA,aAAsF;UACpFD,EAAA,CAAAmB,SAAA,cAC8P;UAElQnB,EADE,CAAAG,YAAA,EAAM,EACF;;UACNH,EAAA,CAAAC,cAAA,cAA2H;UAAAD,EAAA,CAAAE,MAAA,iBAAU;UACvIF,EADuI,CAAAG,YAAA,EAAO,EACxI;UAMAH,EAJN,CAAAC,cAAA,cAAyC,cAEE,eACf,aACyB;UAAAD,EAAA,CAAAE,MAAA,IAAuB;UAAAF,EAAA,CAAAG,YAAA,EAAI;UAC1EH,EAAA,CAAAC,cAAA,aAA4G;UAAAD,EAAA,CAAAE,MAAA,IAAqC;UACnJF,EADmJ,CAAAG,YAAA,EAAI,EACjJ;UAEJH,EADF,CAAAC,cAAA,eAAoJ,gBACvG;UACzCD,EAAA,CAAAE,MAAA,IACF;UAEJF,EAFI,CAAAG,YAAA,EAAO,EACH,EACF;UAGNH,EAAA,CAAAC,cAAA,kBAIC;UAHCD,EAAA,CAAAS,UAAA,mBAAA2K,2DAAA;YAAA,OAASD,GAAA,CAAArB,MAAA,EAAQ;UAAA,EAAC;;UAIlB9J,EAAA,CAAAC,cAAA,eAA2E;UACzED,EAAA,CAAAmB,SAAA,gBACqG;UAMjHnB,EALU,CAAAG,YAAA,EAAM,EACC,EACL,EACF,EACF,EACF;;UAMFH,EAHJ,CAAAC,cAAA,gBAA0D,eAEyC,cAC+B;UAC5HD,EAAA,CAAAE,MAAA,IACF;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACLH,EAAA,CAAAC,cAAA,aAAqC;UAAAD,EAAA,CAAAE,MAAA,iDAAoC;UAC3EF,EAD2E,CAAAG,YAAA,EAAI,EACzE;UAMFH,EAHJ,CAAAC,cAAA,eAA4G,eAET,eAC/D;UAC9BD,EAAA,CAAAoB,UAAA,KAAAiK,2CAAA,qBAIsK;UAQ1KrL,EADE,CAAAG,YAAA,EAAM,EACF;UAGNH,EAAA,CAAAC,cAAA,eAAiB;UA0FfD,EAvFA,CAAAoB,UAAA,KAAAkK,wCAAA,kBAA2D,KAAAC,wCAAA,kBAoCD,KAAAC,wCAAA,mBAmDC;UA0EjExL,EAFI,CAAAG,YAAA,EAAM,EACF,EACD;UAGPH,EAAA,CAAAoB,UAAA,KAAAqK,wCAAA,mBAA+H;UA4EjIzL,EAAA,CAAAG,YAAA,EAAM;;;;UA3SuDH,EAAA,CAAAI,SAAA,IAAuB;UAAvBJ,EAAA,CAAAK,iBAAA,CAAA8K,GAAA,CAAAnF,WAAA,kBAAAmF,GAAA,CAAAnF,WAAA,CAAAzE,IAAA,CAAuB;UACsCvB,EAAA,CAAAI,SAAA,GAAqC;UAArCJ,EAAA,CAAAK,iBAAA,CAAA8K,GAAA,CAAAxB,YAAA,CAAAwB,GAAA,CAAAnF,WAAA,kBAAAmF,GAAA,CAAAnF,WAAA,CAAA4D,IAAA,EAAqC;UAI/I5J,EAAA,CAAAI,SAAA,GACF;UADEJ,EAAA,CAAAgC,kBAAA,MAAAmJ,GAAA,CAAAnF,WAAA,kBAAAmF,GAAA,CAAAnF,WAAA,CAAAzE,IAAA,mBAAAmK,OAAA,GAAAP,GAAA,CAAAnF,WAAA,CAAAzE,IAAA,CAAAoK,MAAA,sBAAAD,OAAA,CAAAE,WAAA,QACF;UAyBN5L,EAAA,CAAAI,SAAA,GACF;UADEJ,EAAA,CAAAgC,kBAAA,wBAAAmJ,GAAA,CAAAnF,WAAA,kBAAAmF,GAAA,CAAAnF,WAAA,CAAAzE,IAAA,OACF;UAS4BvB,EAAA,CAAAI,SAAA,GAAO;UAAPJ,EAAA,CAAAwB,UAAA,YAAA2J,GAAA,CAAA7E,IAAA,CAAO;UAkB3BtG,EAAA,CAAAI,SAAA,GAA+B;UAA/BJ,EAAA,CAAAwB,UAAA,SAAA2J,GAAA,CAAAlK,SAAA,iBAA+B;UAoC/BjB,EAAA,CAAAI,SAAA,EAA8B;UAA9BJ,EAAA,CAAAwB,UAAA,SAAA2J,GAAA,CAAAlK,SAAA,gBAA8B;UAmD9BjB,EAAA,CAAAI,SAAA,EAA+B;UAA/BJ,EAAA,CAAAwB,UAAA,SAAA2J,GAAA,CAAAlK,SAAA,iBAA+B;UA6ErCjB,EAAA,CAAAI,SAAA,EAA0B;UAA1BJ,EAAA,CAAAwB,UAAA,SAAA2J,GAAA,CAAAlF,oBAAA,CAA0B;;;qBApP1BtG,YAAY,EAAAkM,EAAA,CAAAC,OAAA,EAAAD,EAAA,CAAAE,IAAA,EAAEnM,YAAY,EAAEC,WAAW,EAAA0K,EAAA,CAAAyB,aAAA,EAAAzB,EAAA,CAAA0B,cAAA,EAAA1B,EAAA,CAAA2B,uBAAA,EAAA3B,EAAA,CAAA4B,oBAAA,EAAA5B,EAAA,CAAA6B,0BAAA,EAAA7B,EAAA,CAAA8B,eAAA,EAAA9B,EAAA,CAAA+B,oBAAA,EAAExM,mBAAmB,EAAAyK,EAAA,CAAAgC,kBAAA,EAAAhC,EAAA,CAAAiC,eAAA;MAAAC,MAAA;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}